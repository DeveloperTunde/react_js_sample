{"ast":null,"code":"var _jsxFileName = \"/Users/developertunde/iitatv/src/admin/components/SchedulerTabs.jsx\";\nimport React, { Component } from 'react';\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\nimport 'react-tabs/style/react-tabs.css';\nimport ReactPlayer from 'react-player/lazy';\nimport '../../assets/css/styles.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { FaTimes, FaPlay } from 'react-icons/fa';\nimport { BrowserRouter, Router, Switch, Route, Link } from \"react-router-dom\";\nimport Card from 'react-bootstrap/Card';\nimport TimeRange from 'react-timeline-range-slider';\nimport { Button, Label } from 'reactstrap';\nimport { endOfToday, set, format } from 'date-fns';\nimport SundaySelection from './SundaySelection';\nimport MondaySelection from './MondaySelection';\nimport TuesdaySelection from './TuesdaySelection';\nimport WednesdaySelection from './WednesdaySelection';\nimport ThursdaySelection from './ThursdaySelection';\nimport FridaySelection from './FridaySelection';\nimport SaturdaySelection from './SaturdaySelection';\nimport SchedularForm from './SchedularForm';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst now = new Date();\n\nconst getTodayAtSpecificHour = (hour, minute) => set(now, {\n  hours: hour,\n  minutes: minute,\n  seconds: 0,\n  milliseconds: 0\n});\n\nconst getTodayAtSpecificHour2 = (hour, minute) => set(now, {\n  hours: hour,\n  minutes: 0,\n  seconds: 0,\n  milliseconds: 0\n});\n\nconst selectedStart = getTodayAtSpecificHour2();\nconst selectedEnd = getTodayAtSpecificHour2(8, 0);\nconst startTime = getTodayAtSpecificHour2(0);\nconst endTime = endOfToday();\nexport default class SchedulerTabs extends Component {\n  constructor() {\n    super();\n\n    this.errorHandler = _ref => {\n      let {\n        error\n      } = _ref;\n      return this.setState({\n        error\n      });\n    };\n\n    this.onChangeCallback = selectedInterval => this.setState({\n      selectedInterval\n    });\n\n    this.fetchVideos = () => {\n      //http://192.168.8.100/videostreaming/allvideos\n      fetch('/videostreaming/alladminvideos.php', {\n        method: 'POST',\n        body: JSON.stringify({\n          accesstoken: 'userName'\n        })\n      }).then(response => response.json()).then(responseJSON => {\n        this.setState({\n          isLoaded: true,\n          videos: responseJSON['output'][0]['data']\n        }); //  console.log(responseJSON);\n      }).catch(error => {//console.log(error)\n      });\n    };\n\n    this.toggleAddandRemove = () => {\n      this.state.selectVisiblity ? this.setState({\n        selectVisiblity: false\n      }) : this.setState({\n        selectVisiblity: true\n      });\n      this.state.removeVideoVisibility ? this.setState({\n        removeVideoVisibility: false\n      }) : this.setState({\n        removeVideoVisibility: true\n      });\n    };\n\n    this.callbackFunction = childData => {\n      this.setState({\n        presentTab: childData\n      });\n    };\n\n    this.twocalls = (firstTab, second) => {\n      this.setState({\n        presentTab: firstTab\n      }); //this.sendData(firstTab)\n    };\n\n    this.fetchScheduledVideos = () => {\n      //http://192.168.137.1/videostreaming/allvideos\n      fetch('/videostreaming/scheduledvideos.php', {\n        method: 'POST',\n        body: JSON.stringify({\n          accesstoken: 'iita-web-developers',\n          selectedday: this.state.presentTab\n        })\n      }).then(response => response.json()).then(responseJSON => {\n        this.setState({\n          isLoaded: true,\n          videodata: responseJSON['output'][0]['data']\n        });\n        let test = responseJSON;\n        console.log(test); //console.log(this.state.presentTab);\n      });\n    };\n\n    this.state = {\n      presentTab: 0,\n      isLoaded: false,\n      selectedArray: [],\n      selectVisiblity: false,\n      removeVideoVisibility: true,\n      submittingvideoid: '',\n      showtimepicker: false,\n      showform: false,\n      videodata: [1, 2, 2, 3],\n      error: false,\n      selectedInterval: [selectedStart, selectedEnd],\n      videos: []\n    };\n  }\n\n  render() {\n    const {\n      videos,\n      videodata,\n      sunday\n    } = this.state;\n    const {\n      selectedInterval,\n      error,\n      selectedStart\n    } = this.state;\n    let selectedday = '';\n\n    if (this.state.presentTab == 0) {\n      selectedday = 'Sunday';\n    } else if (this.state.presentTab == 1) {\n      selectedday = 'Monday';\n    } else if (this.state.presentTab == 2) {\n      selectedday = 'Tuesday';\n    } else if (this.state.presentTab == 3) {\n      selectedday = 'Wednesday';\n    } else if (this.state.presentTab == 4) {\n      selectedday = 'Thursday';\n    } else if (this.state.presentTab == 5) {\n      selectedday = 'Friday';\n    } else if (this.state.presentTab == 6) {\n      selectedday = 'Saturday';\n    }\n\n    let disabledIntervals = videodata.map(x => ({\n      start: getTodayAtSpecificHour(x.starthour, x.startminute),\n      end: getTodayAtSpecificHour(x.endhour, x.endminute)\n    }));\n    console.log(this.state.selectedInterval[0]);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"scheduler-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(Tabs, {\n          onSelect: this.twocalls,\n          children: [/*#__PURE__*/_jsxDEV(TabList, {\n            children: [/*#__PURE__*/_jsxDEV(Tab, {\n              children: \"Sunday \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Tab, {\n              children: \"Monday\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Tab, {\n              children: \"Tuesday\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Tab, {\n              children: \"Wednesday\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Tab, {\n              children: \"Thursday\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Tab, {\n              children: \"Friday\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Tab, {\n              children: \"Saturday\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n            style: {\n              padding: 20,\n              backgroundColor: '#fff'\n            },\n            children: /*#__PURE__*/_jsxDEV(SundaySelection, {\n              toggleAandR: () => this.toggleAddandRemove(),\n              toggleAddmore: this.state.removeVideoVisibility,\n              selectVisible: this.state.selectVisiblity,\n              currentTab: this.state.presentTab\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n            style: {\n              padding: 20,\n              backgroundColor: '#fff'\n            },\n            children: /*#__PURE__*/_jsxDEV(MondaySelection, {\n              toggleAandR: () => this.toggleAddandRemove(),\n              toggleAddmore: this.state.removeVideoVisibility,\n              selectVisible: this.state.selectVisiblity,\n              currentTab: this.state.presentTab\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n            style: {\n              padding: 20,\n              backgroundColor: '#fff'\n            },\n            children: /*#__PURE__*/_jsxDEV(TuesdaySelection, {\n              toggleAandR: () => this.toggleAddandRemove(),\n              toggleAddmore: this.state.removeVideoVisibility,\n              selectVisible: this.state.selectVisiblity,\n              currentTab: this.state.presentTab\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n            style: {\n              padding: 20,\n              backgroundColor: '#fff'\n            },\n            children: /*#__PURE__*/_jsxDEV(WednesdaySelection, {\n              toggleAandR: () => this.toggleAddandRemove(),\n              toggleAddmore: this.state.removeVideoVisibility,\n              selectVisible: this.state.selectVisiblity,\n              currentTab: this.state.presentTab\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n            style: {\n              padding: 20,\n              backgroundColor: '#fff'\n            },\n            children: /*#__PURE__*/_jsxDEV(ThursdaySelection, {\n              toggleAandR: () => this.toggleAddandRemove(),\n              toggleAddmore: this.state.removeVideoVisibility,\n              selectVisible: this.state.selectVisiblity,\n              currentTab: this.state.presentTab\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n            style: {\n              padding: 20,\n              backgroundColor: '#fff'\n            },\n            children: /*#__PURE__*/_jsxDEV(FridaySelection, {\n              toggleAandR: () => this.toggleAddandRemove(),\n              toggleAddmore: this.state.removeVideoVisibility,\n              selectVisible: this.state.selectVisiblity,\n              currentTab: this.state.presentTab\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n            style: {\n              padding: 20,\n              backgroundColor: '#fff'\n            },\n            children: /*#__PURE__*/_jsxDEV(SaturdaySelection, {\n              toggleAandR: () => this.toggleAddandRemove(),\n              toggleAddmore: this.state.removeVideoVisibility,\n              selectVisible: this.state.selectVisiblity,\n              currentTab: this.state.presentTab\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }, this), this.state.showtimepicker ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"overlay\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"timepicker1\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"closetimeselection\",\n              onClick: () => this.closeSelectionbox(),\n              children: /*#__PURE__*/_jsxDEV(FaTimes, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 96\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Select Time Frame for this Video\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"timepicker-wrappper\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"timepicker-inner\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Selected Interval: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 188,\n                  columnNumber: 29\n                }, this), selectedInterval.map((d, i) => /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: format(d, \"dd MMM, HH:mm\")\n                }, i, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 190,\n                  columnNumber: 33\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"timepicker-slider\",\n              children: /*#__PURE__*/_jsxDEV(TimeRange, {\n                error: error,\n                ticksNumber: 36,\n                selectedInterval: selectedInterval,\n                timelineInterval: [startTime, endTime],\n                onUpdateCallback: this.errorHandler,\n                onChangeCallback: this.onChangeCallback,\n                disabledIntervals: disabledIntervals\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"submitvideobtn\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                onClick: () => this.displayForm(),\n                children: \" Submit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 21\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 21\n        }, this), this.state.showform ? /*#__PURE__*/_jsxDEV(SchedularForm, {\n          presentTabprop: this.state.presentTab,\n          selecteddayprop: selectedday,\n          starttimeprop: format(this.state.selectedInterval[0], \"HH:mm\"),\n          endtimeprop: format(this.state.selectedInterval[1], \"HH:mm\"),\n          selectedvideo: this.state.submittingvideoid\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: this.state.selectVisiblity ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {},\n          children: videos.map(video => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"admin_video_box2\",\n            children: [/*#__PURE__*/_jsxDEV(Card, {\n              className: \"admin_video_box_img\",\n              children: [/*#__PURE__*/_jsxDEV(Card.Img, {\n                src: video.videothumbnail,\n                alt: \"image\",\n                className: \"admin_index_left_a_img\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 44\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"admin_videoview_content_wrap\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 44\n              }, this), /*#__PURE__*/_jsxDEV(Card.ImgOverlay, {\n                children: /*#__PURE__*/_jsxDEV(Card.Text, {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"admin_overlaycontent-sidebar\",\n                    children: /*#__PURE__*/_jsxDEV(Link, {\n                      to: `videoview/${video.videoid}`,\n                      className: \"link\",\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: /*#__PURE__*/_jsxDEV(FaPlay, {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 239,\n                          columnNumber: 114\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 239,\n                        columnNumber: 108\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 239,\n                      columnNumber: 51\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 238,\n                    columnNumber: 48\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 237,\n                  columnNumber: 46\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 44\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"admin_video_box_content\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"admin_video_box_content_right\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"admin_span_title\",\n                  children: video.videotitle\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 247,\n                  columnNumber: 38\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"admin_video_content_right_c\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"Duration: \", video.videoduration]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 249,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    onClick: () => this.selectTiming(video.videoid, video.videopersecond),\n                    children: \"Add\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 250,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 248,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 29\n            }, this)]\n          }, video.videoid, true, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 53\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 30\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }, this);\n  }\n\n  componentDidMount() {\n    this.fetchVideos();\n    this.interval8 = setInterval(() => this.fetchScheduledVideos(), 1000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  selectTiming(vid, vpersecond) {\n    this.setState({\n      showtimepicker: true,\n      submittingvideoid: vid\n    });\n  }\n\n  displayForm() {\n    this.setState({\n      showtimepicker: false,\n      showform: true\n    });\n  }\n\n  closeSelectionbox() {\n    this.setState({\n      showtimepicker: false\n    });\n  }\n\n}","map":{"version":3,"sources":["/Users/developertunde/iitatv/src/admin/components/SchedulerTabs.jsx"],"names":["React","Component","Tab","Tabs","TabList","TabPanel","ReactPlayer","FaTimes","FaPlay","BrowserRouter","Router","Switch","Route","Link","Card","TimeRange","Button","Label","endOfToday","set","format","SundaySelection","MondaySelection","TuesdaySelection","WednesdaySelection","ThursdaySelection","FridaySelection","SaturdaySelection","SchedularForm","now","Date","getTodayAtSpecificHour","hour","minute","hours","minutes","seconds","milliseconds","getTodayAtSpecificHour2","selectedStart","selectedEnd","startTime","endTime","SchedulerTabs","constructor","errorHandler","error","setState","onChangeCallback","selectedInterval","fetchVideos","fetch","method","body","JSON","stringify","accesstoken","then","response","json","responseJSON","isLoaded","videos","catch","toggleAddandRemove","state","selectVisiblity","removeVideoVisibility","callbackFunction","childData","presentTab","twocalls","firstTab","second","fetchScheduledVideos","selectedday","videodata","test","console","log","selectedArray","submittingvideoid","showtimepicker","showform","render","sunday","disabledIntervals","map","x","start","starthour","startminute","end","endhour","endminute","padding","backgroundColor","closeSelectionbox","d","i","displayForm","video","videothumbnail","videoid","videotitle","videoduration","selectTiming","videopersecond","componentDidMount","interval8","setInterval","componentWillUnmount","clearInterval","interval","vid","vpersecond"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,GAAT,EAAcC,IAAd,EAAoBC,OAApB,EAA6BC,QAA7B,QAA6C,YAA7C;AACA,OAAO,iCAAP;AACA,OAAOC,WAAP,MAAwB,mBAAxB;AACA,OAAO,6BAAP;AACA,OAAO,sCAAP;AACA,OAAO,4CAAP;AACA,SAAQC,OAAR,EAAiBC,MAAjB,QAA8B,gBAA9B;AACA,SAASC,aAAT,EAAwBC,MAAxB,EAAgCC,MAAhC,EAAwCC,KAAxC,EAA+CC,IAA/C,QAA2D,kBAA3D;AACA,OAAOC,IAAP,MAAiB,sBAAjB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,SAASC,MAAT,EAAiBC,KAAjB,QAA+B,YAA/B;AACA,SAASC,UAAT,EAAqBC,GAArB,EAA0BC,MAA1B,QAAwC,UAAxC;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AACA,OAAOC,gBAAP,MAA6B,oBAA7B;AACA,OAAOC,kBAAP,MAA+B,sBAA/B;AACA,OAAOC,iBAAP,MAA8B,qBAA9B;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AACA,OAAOC,iBAAP,MAA8B,qBAA9B;AACA,OAAOC,aAAP,MAA0B,iBAA1B;;AAEA,MAAMC,GAAG,GAAG,IAAIC,IAAJ,EAAZ;;AACA,MAAMC,sBAAsB,GAAG,CAACC,IAAD,EAAOC,MAAP,KAC3Bd,GAAG,CAACU,GAAD,EAAM;AAAEK,EAAAA,KAAK,EAAEF,IAAT;AAAeG,EAAAA,OAAO,EAAEF,MAAxB;AAAgCG,EAAAA,OAAO,EAAE,CAAzC;AAA4CC,EAAAA,YAAY,EAAE;AAA1D,CAAN,CADP;;AAGA,MAAMC,uBAAuB,GAAG,CAACN,IAAD,EAAOC,MAAP,KAC5Bd,GAAG,CAACU,GAAD,EAAM;AAAEK,EAAAA,KAAK,EAAEF,IAAT;AAAeG,EAAAA,OAAO,EAAE,CAAxB;AAA2BC,EAAAA,OAAO,EAAE,CAApC;AAAuCC,EAAAA,YAAY,EAAE;AAArD,CAAN,CADP;;AAGA,MAAME,aAAa,GAAGD,uBAAuB,EAA7C;AACA,MAAME,WAAW,GAAGF,uBAAuB,CAAC,CAAD,EAAG,CAAH,CAA3C;AAEA,MAAMG,SAAS,GAAGH,uBAAuB,CAAC,CAAD,CAAzC;AACA,MAAMI,OAAO,GAAGxB,UAAU,EAA1B;AAGA,eAAe,MAAMyB,aAAN,SAA4B1C,SAA5B,CAAsC;AACjD2C,EAAAA,WAAW,GAAG;AACV;;AADU,SAqBdC,YArBc,GAqBC;AAAA,UAAC;AAAEC,QAAAA;AAAF,OAAD;AAAA,aAAe,KAAKC,QAAL,CAAc;AAAED,QAAAA;AAAF,OAAd,CAAf;AAAA,KArBD;;AAAA,SAuBdE,gBAvBc,GAuBKC,gBAAgB,IAAI,KAAKF,QAAL,CAAc;AAAEE,MAAAA;AAAF,KAAd,CAvBzB;;AAAA,SAsOdC,WAtOc,GAsOA,MAAM;AAChB;AACAC,MAAAA,KAAK,CAAC,oCAAD,EAAuC;AACxCC,QAAAA,MAAM,EAAE,MADgC;AAGxCC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACjBC,UAAAA,WAAW,EAAE;AADI,SAAf;AAHkC,OAAvC,CAAL,CASKC,IATL,CASWC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EATxB,EAUKF,IAVL,CAUWG,YAAD,IAAkB;AACpB,aAAKb,QAAL,CAAc;AACVc,UAAAA,QAAQ,EAAE,IADA;AAEVC,UAAAA,MAAM,EAAEF,YAAY,CAAC,QAAD,CAAZ,CAAuB,CAAvB,EAA0B,MAA1B;AAFE,SAAd,EADoB,CAKxB;AACC,OAhBL,EAgBOG,KAhBP,CAgBcjB,KAAD,IAAS,CACd;AACH,OAlBL;AAmBH,KA3Pa;;AAAA,SA6PdkB,kBA7Pc,GA6PO,MAAM;AACvB,WAAKC,KAAL,CAAWC,eAAX,GACM,KAAKnB,QAAL,CAAc;AAAEmB,QAAAA,eAAe,EAAE;AAAnB,OAAd,CADN,GAEM,KAAKnB,QAAL,CAAc;AAAEmB,QAAAA,eAAe,EAAE;AAAnB,OAAd,CAFN;AAIA,WAAKD,KAAL,CAAWE,qBAAX,GACM,KAAKpB,QAAL,CAAc;AAAEoB,QAAAA,qBAAqB,EAAE;AAAzB,OAAd,CADN,GAEM,KAAKpB,QAAL,CAAc;AAAEoB,QAAAA,qBAAqB,EAAE;AAAzB,OAAd,CAFN;AAIH,KAtQa;;AAAA,SAyQdC,gBAzQc,GAyQMC,SAAD,IAAe;AAC9B,WAAKtB,QAAL,CAAc;AAAEuB,QAAAA,UAAU,EAAED;AAAd,OAAd;AACH,KA3Qa;;AAAA,SA6RdE,QA7Rc,GA6RH,CAACC,QAAD,EAAWC,MAAX,KAAsB;AAC7B,WAAK1B,QAAL,CAAc;AACVuB,QAAAA,UAAU,EAAEE;AADF,OAAd,EAD6B,CAK7B;AACH,KAnSa;;AAAA,SA2TdE,oBA3Tc,GA2TS,MAAM;AACzB;AACAvB,MAAAA,KAAK,CAAC,qCAAD,EAAwC;AACzCC,QAAAA,MAAM,EAAE,MADiC;AAGzCC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACjBC,UAAAA,WAAW,EAAE,qBADI;AAEjBmB,UAAAA,WAAW,EAAE,KAAKV,KAAL,CAAWK;AAFP,SAAf;AAHmC,OAAxC,CAAL,CASKb,IATL,CASWC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EATxB,EAUKF,IAVL,CAUWG,YAAD,IAAkB;AACpB,aAAKb,QAAL,CAAc;AACVc,UAAAA,QAAQ,EAAE,IADA;AAEVe,UAAAA,SAAS,EAAEhB,YAAY,CAAC,QAAD,CAAZ,CAAuB,CAAvB,EAA0B,MAA1B;AAFD,SAAd;AAIA,YAAIiB,IAAI,GAAGjB,YAAX;AACAkB,QAAAA,OAAO,CAACC,GAAR,CAAaF,IAAb,EANoB,CAOpB;AAGH,OApBL;AAqBH,KAlVa;;AAEV,SAAKZ,KAAL,GAAa;AACTK,MAAAA,UAAU,EAAE,CADH;AAETT,MAAAA,QAAQ,EAAE,KAFD;AAGTmB,MAAAA,aAAa,EAAE,EAHN;AAITd,MAAAA,eAAe,EAAE,KAJR;AAKTC,MAAAA,qBAAqB,EAAE,IALd;AAMTc,MAAAA,iBAAiB,EAAE,EANV;AAOTC,MAAAA,cAAc,EAAE,KAPP;AAQTC,MAAAA,QAAQ,EAAC,KARA;AASTP,MAAAA,SAAS,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,CATF;AAUT9B,MAAAA,KAAK,EAAE,KAVE;AAWTG,MAAAA,gBAAgB,EAAE,CAACV,aAAD,EAAgBC,WAAhB,CAXT;AAYTsB,MAAAA,MAAM,EAAE;AAZC,KAAb;AAgBH;;AAQDsB,EAAAA,MAAM,GAAG;AACL,UAAM;AAAEtB,MAAAA,MAAF;AAAUc,MAAAA,SAAV;AAAqBS,MAAAA;AAArB,QAAgC,KAAKpB,KAA3C;AACA,UAAM;AAAEhB,MAAAA,gBAAF;AAAoBH,MAAAA,KAApB;AAA2BP,MAAAA;AAA3B,QAA6C,KAAK0B,KAAxD;AAGA,QAAIU,WAAW,GAAG,EAAlB;;AACA,QAAI,KAAKV,KAAL,CAAWK,UAAX,IAAyB,CAA7B,EAAgC;AAC5BK,MAAAA,WAAW,GAAG,QAAd;AACH,KAFD,MAEM,IAAG,KAAKV,KAAL,CAAWK,UAAX,IAAyB,CAA5B,EAA8B;AAChCK,MAAAA,WAAW,GAAG,QAAd;AACH,KAFK,MAEA,IAAG,KAAKV,KAAL,CAAWK,UAAX,IAAyB,CAA5B,EAA8B;AAChCK,MAAAA,WAAW,GAAG,SAAd;AACH,KAFK,MAEA,IAAG,KAAKV,KAAL,CAAWK,UAAX,IAAyB,CAA5B,EAA8B;AAChCK,MAAAA,WAAW,GAAG,WAAd;AACH,KAFK,MAEA,IAAG,KAAKV,KAAL,CAAWK,UAAX,IAAyB,CAA5B,EAA8B;AAChCK,MAAAA,WAAW,GAAG,UAAd;AACH,KAFK,MAEA,IAAG,KAAKV,KAAL,CAAWK,UAAX,IAAyB,CAA5B,EAA8B;AAChCK,MAAAA,WAAW,GAAG,QAAd;AACH,KAFK,MAEA,IAAG,KAAKV,KAAL,CAAWK,UAAX,IAAyB,CAA5B,EAA8B;AAChCK,MAAAA,WAAW,GAAG,UAAd;AACH;;AAID,QAAIW,iBAAiB,GAAGV,SAAS,CAACW,GAAV,CAAcC,CAAC,KAAK;AACxCC,MAAAA,KAAK,EAAE1D,sBAAsB,CAACyD,CAAC,CAACE,SAAH,EAAcF,CAAC,CAACG,WAAhB,CADW;AACmBC,MAAAA,GAAG,EAAE7D,sBAAsB,CAACyD,CAAC,CAACK,OAAH,EAAYL,CAAC,CAACM,SAAd;AAD9C,KAAL,CAAf,CAAxB;AAKFhB,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKd,KAAL,CAAWhB,gBAAX,CAA4B,CAA5B,CAAZ;AAEE,wBACI;AAAA,8BACI;AAAK,QAAA,SAAS,EAAC,mBAAf;AAAA,gCAEI,QAAC,IAAD;AAAM,UAAA,QAAQ,EAAE,KAAKsB,QAArB;AAAA,kCACI,QAAC,OAAD;AAAA,oCACI,QAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAGI,QAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHJ,eAII,QAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJJ,eAKI,QAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBALJ,eAMI,QAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBANJ,eAOI,QAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAPJ,eAQI,QAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBARJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAaI,QAAC,QAAD;AAAU,YAAA,KAAK,EAAE;AAAEwB,cAAAA,OAAO,EAAE,EAAX;AAAeC,cAAAA,eAAe,EAAE;AAAhC,aAAjB;AAAA,mCACI,QAAC,eAAD;AACI,cAAA,WAAW,EAAE,MAAM,KAAKhC,kBAAL,EADvB;AAEI,cAAA,aAAa,EAAE,KAAKC,KAAL,CAAWE,qBAF9B;AAGI,cAAA,aAAa,EAAE,KAAKF,KAAL,CAAWC,eAH9B;AAII,cAAA,UAAU,EAAE,KAAKD,KAAL,CAAWK;AAJ3B;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBAbJ,eAsBI,QAAC,QAAD;AAAU,YAAA,KAAK,EAAE;AAAEyB,cAAAA,OAAO,EAAE,EAAX;AAAeC,cAAAA,eAAe,EAAE;AAAhC,aAAjB;AAAA,mCACI,QAAC,eAAD;AACI,cAAA,WAAW,EAAE,MAAM,KAAKhC,kBAAL,EADvB;AAEI,cAAA,aAAa,EAAE,KAAKC,KAAL,CAAWE,qBAF9B;AAGI,cAAA,aAAa,EAAE,KAAKF,KAAL,CAAWC,eAH9B;AAII,cAAA,UAAU,EAAE,KAAKD,KAAL,CAAWK;AAJ3B;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBAtBJ,eA+BI,QAAC,QAAD;AAAU,YAAA,KAAK,EAAE;AAAEyB,cAAAA,OAAO,EAAE,EAAX;AAAeC,cAAAA,eAAe,EAAE;AAAhC,aAAjB;AAAA,mCACI,QAAC,gBAAD;AACI,cAAA,WAAW,EAAE,MAAM,KAAKhC,kBAAL,EADvB;AAEI,cAAA,aAAa,EAAE,KAAKC,KAAL,CAAWE,qBAF9B;AAGI,cAAA,aAAa,EAAE,KAAKF,KAAL,CAAWC,eAH9B;AAII,cAAA,UAAU,EAAE,KAAKD,KAAL,CAAWK;AAJ3B;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBA/BJ,eAwCI,QAAC,QAAD;AAAU,YAAA,KAAK,EAAE;AAAEyB,cAAAA,OAAO,EAAE,EAAX;AAAeC,cAAAA,eAAe,EAAE;AAAhC,aAAjB;AAAA,mCACI,QAAC,kBAAD;AACI,cAAA,WAAW,EAAE,MAAM,KAAKhC,kBAAL,EADvB;AAEI,cAAA,aAAa,EAAE,KAAKC,KAAL,CAAWE,qBAF9B;AAGI,cAAA,aAAa,EAAE,KAAKF,KAAL,CAAWC,eAH9B;AAII,cAAA,UAAU,EAAE,KAAKD,KAAL,CAAWK;AAJ3B;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBAxCJ,eAiDI,QAAC,QAAD;AAAU,YAAA,KAAK,EAAE;AAAEyB,cAAAA,OAAO,EAAE,EAAX;AAAeC,cAAAA,eAAe,EAAE;AAAhC,aAAjB;AAAA,mCACI,QAAC,iBAAD;AACI,cAAA,WAAW,EAAE,MAAM,KAAKhC,kBAAL,EADvB;AAEI,cAAA,aAAa,EAAE,KAAKC,KAAL,CAAWE,qBAF9B;AAGI,cAAA,aAAa,EAAE,KAAKF,KAAL,CAAWC,eAH9B;AAII,cAAA,UAAU,EAAE,KAAKD,KAAL,CAAWK;AAJ3B;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBAjDJ,eA0DI,QAAC,QAAD;AAAU,YAAA,KAAK,EAAE;AAAEyB,cAAAA,OAAO,EAAE,EAAX;AAAeC,cAAAA,eAAe,EAAE;AAAhC,aAAjB;AAAA,mCACI,QAAC,eAAD;AACI,cAAA,WAAW,EAAE,MAAM,KAAKhC,kBAAL,EADvB;AAEI,cAAA,aAAa,EAAE,KAAKC,KAAL,CAAWE,qBAF9B;AAGI,cAAA,aAAa,EAAE,KAAKF,KAAL,CAAWC,eAH9B;AAII,cAAA,UAAU,EAAE,KAAKD,KAAL,CAAWK;AAJ3B;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBA1DJ,eAmEI,QAAC,QAAD;AAAU,YAAA,KAAK,EAAE;AAAEyB,cAAAA,OAAO,EAAE,EAAX;AAAeC,cAAAA,eAAe,EAAE;AAAhC,aAAjB;AAAA,mCACI,QAAC,iBAAD;AACI,cAAA,WAAW,EAAE,MAAM,KAAKhC,kBAAL,EADvB;AAEI,cAAA,aAAa,EAAE,KAAKC,KAAL,CAAWE,qBAF9B;AAGI,cAAA,aAAa,EAAE,KAAKF,KAAL,CAAWC,eAH9B;AAII,cAAA,UAAU,EAAE,KAAKD,KAAL,CAAWK;AAJ3B;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBAnEJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ,EAiFM,KAAKL,KAAL,CAAWiB,cAAZ,gBAED;AAAK,UAAA,SAAS,EAAC,SAAf;AAAA,iCACA;AAAK,YAAA,SAAS,EAAC,aAAf;AAAA,oCAEA;AAAG,cAAA,SAAS,EAAC,oBAAb;AAAkC,cAAA,OAAO,EAAE,MAAM,KAAKe,iBAAL,EAAjD;AAAA,qCAA2E,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAA3E;AAAA;AAAA;AAAA;AAAA,oBAFA,eAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHA,eAKA;AAAK,cAAA,SAAS,EAAC,qBAAf;AAAA,qCACI;AAAK,gBAAA,SAAS,EAAC,kBAAf;AAAA,wCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,EAEKhD,gBAAgB,CAACsC,GAAjB,CAAqB,CAACW,CAAD,EAAIC,CAAJ,kBAClB;AAAA,4BAAe/E,MAAM,CAAC8E,CAAD,EAAI,eAAJ;AAArB,mBAAWC,CAAX;AAAA;AAAA;AAAA;AAAA,wBADH,CAFL;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,oBALA,eAeA;AAAK,cAAA,SAAS,EAAC,mBAAf;AAAA,qCACI,QAAC,SAAD;AACI,gBAAA,KAAK,EAAErD,KADX;AAEI,gBAAA,WAAW,EAAE,EAFjB;AAGI,gBAAA,gBAAgB,EAAEG,gBAHtB;AAII,gBAAA,gBAAgB,EAAE,CAACR,SAAD,EAAYC,OAAZ,CAJtB;AAKI,gBAAA,gBAAgB,EAAE,KAAKG,YAL3B;AAMI,gBAAA,gBAAgB,EAAE,KAAKG,gBAN3B;AAOI,gBAAA,iBAAiB,EAAEsC;AAPvB;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,oBAfA,eA2BA;AAAK,cAAA,SAAS,EAAC,gBAAf;AAAA,qCACI;AAAM,gBAAA,OAAO,EAAE,MAAM,KAAKc,WAAL,EAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,oBA3BA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,gBAFC,gBAoCD;AAAA;AAAA;AAAA;AAAA,gBArHJ,EAwHM,KAAKnC,KAAL,CAAWkB,QAAZ,gBACG,QAAC,aAAD;AACG,UAAA,cAAc,EAAE,KAAKlB,KAAL,CAAWK,UAD9B;AAEG,UAAA,eAAe,EAAEK,WAFpB;AAGG,UAAA,aAAa,EAAEvD,MAAM,CAAC,KAAK6C,KAAL,CAAWhB,gBAAX,CAA4B,CAA5B,CAAD,EAAiC,OAAjC,CAHxB;AAIG,UAAA,WAAW,EAAE7B,MAAM,CAAC,KAAK6C,KAAL,CAAWhB,gBAAX,CAA4B,CAA5B,CAAD,EAAiC,OAAjC,CAJtB;AAKG,UAAA,aAAa,EAAG,KAAKgB,KAAL,CAAWgB;AAL9B;AAAA;AAAA;AAAA;AAAA,gBADH,gBAUD;AAAA;AAAA;AAAA;AAAA,gBAlIJ;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAqII;AAAA,kBACM,KAAKhB,KAAL,CAAWC,eAAZ,gBAA+B;AAAK,UAAA,KAAK,EAAE,EAAZ;AAAA,oBAC3BJ,MAAM,CAACyB,GAAP,CAAYc,KAAD,iBACR;AAAK,YAAA,SAAS,EAAC,kBAAf;AAAA,oCACA,QAAC,IAAD;AAAM,cAAA,SAAS,EAAC,qBAAhB;AAAA,sCACe,QAAC,IAAD,CAAM,GAAN;AAAU,gBAAA,GAAG,EAAEA,KAAK,CAACC,cAArB;AAAqC,gBAAA,GAAG,EAAC,OAAzC;AAAiD,gBAAA,SAAS,EAAC;AAA3D;AAAA;AAAA;AAAA;AAAA,sBADf,eAEe;AAAK,gBAAA,SAAS,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA,sBAFf,eAGe,QAAC,IAAD,CAAM,UAAN;AAAA,uCACE,QAAC,IAAD,CAAM,IAAN;AAAA,yCACE;AAAK,oBAAA,SAAS,EAAC,8BAAf;AAAA,2CACG,QAAC,IAAD;AAAM,sBAAA,EAAE,EAAG,aAAYD,KAAK,CAACE,OAAQ,EAArC;AAAwC,sBAAA,SAAS,EAAC,MAAlD;AAAA,6CAAyD;AAAA,+CAAM,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAN;AAAA;AAAA;AAAA;AAAA;AAAzD;AAAA;AAAA;AAAA;AAAA;AADH;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBAHf;AAAA;AAAA;AAAA;AAAA;AAAA,oBADA,eAYA;AAAK,cAAA,SAAS,EAAC,yBAAf;AAAA,qCAEI;AAAK,gBAAA,SAAS,EAAC,+BAAf;AAAA,wCACK;AAAM,kBAAA,SAAS,EAAC,kBAAhB;AAAA,4BAAoCF,KAAK,CAACG;AAA1C;AAAA;AAAA;AAAA;AAAA,wBADL,eAEI;AAAK,kBAAA,SAAS,EAAC,6BAAf;AAAA,0CACI;AAAA,6CAAiBH,KAAK,CAACI,aAAvB;AAAA;AAAA;AAAA;AAAA;AAAA,0BADJ,eAEI;AAAO,oBAAA,OAAO,EAAE,MAAM,KAAKC,YAAL,CAAkBL,KAAK,CAACE,OAAxB,EAAiCF,KAAK,CAACM,cAAvC,CAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAFJ;AAAA;AAAA;AAAA;AAAA,oBAZA;AAAA,aAAuCN,KAAK,CAACE,OAA7C;AAAA;AAAA;AAAA;AAAA,kBADH;AAD2B;AAAA;AAAA;AAAA;AAAA,gBAA/B,gBA6BQ;AAAA;AAAA;AAAA;AAAA;AA9Bb;AAAA;AAAA;AAAA;AAAA,cArIJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AA2KH;;AAyCDK,EAAAA,iBAAiB,GAAG;AAChB,SAAK1D,WAAL;AAEA,SAAK2D,SAAL,GAAiBC,WAAW,CAAC,MAAM,KAAKpC,oBAAL,EAAP,EAAoC,IAApC,CAA5B;AACH;;AAGDqC,EAAAA,oBAAoB,GAAG;AACnBC,IAAAA,aAAa,CAAC,KAAKC,QAAN,CAAb;AAEH;;AAEDF,EAAAA,oBAAoB,GAAG;AACnBC,IAAAA,aAAa,CAAC,KAAKC,QAAN,CAAb;AACH;;AAUDP,EAAAA,YAAY,CAACQ,GAAD,EAAMC,UAAN,EAAkB;AAC1B,SAAKpE,QAAL,CAAc;AACVmC,MAAAA,cAAc,EAAE,IADN;AAEVD,MAAAA,iBAAiB,EAAEiC;AAFT,KAAd;AAKH;;AAEDd,EAAAA,WAAW,GAAG;AACV,SAAKrD,QAAL,CAAc;AACVmC,MAAAA,cAAc,EAAE,KADN;AAEVC,MAAAA,QAAQ,EAAC;AAFC,KAAd;AAKH;;AAEDc,EAAAA,iBAAiB,GAAG;AAChB,SAAKlD,QAAL,CAAc;AACVmC,MAAAA,cAAc,EAAE;AADN,KAAd;AAGH;;AA1TgD","sourcesContent":["import React, { Component } from 'react';\r\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\r\nimport 'react-tabs/style/react-tabs.css';\r\nimport ReactPlayer from 'react-player/lazy'\r\nimport '../../assets/css/styles.css'\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport {FaTimes, FaPlay} from 'react-icons/fa';\r\nimport { BrowserRouter, Router, Switch, Route, Link } from \"react-router-dom\";\r\nimport Card from 'react-bootstrap/Card'\r\nimport TimeRange from 'react-timeline-range-slider';\r\nimport { Button, Label, } from 'reactstrap';\r\nimport { endOfToday, set, format } from 'date-fns'\r\nimport SundaySelection from './SundaySelection';\r\nimport MondaySelection from './MondaySelection';\r\nimport TuesdaySelection from './TuesdaySelection';\r\nimport WednesdaySelection from './WednesdaySelection';\r\nimport ThursdaySelection from './ThursdaySelection';\r\nimport FridaySelection from './FridaySelection';\r\nimport SaturdaySelection from './SaturdaySelection';\r\nimport SchedularForm from './SchedularForm';\r\n\r\nconst now = new Date();\r\nconst getTodayAtSpecificHour = (hour, minute) =>\r\n    set(now, { hours: hour, minutes: minute, seconds: 0, milliseconds: 0 })\r\n\r\nconst getTodayAtSpecificHour2 = (hour, minute) =>\r\n    set(now, { hours: hour, minutes: 0, seconds: 0, milliseconds: 0 })\r\n\r\nconst selectedStart = getTodayAtSpecificHour2()\r\nconst selectedEnd = getTodayAtSpecificHour2(8,0)\r\n\r\nconst startTime = getTodayAtSpecificHour2(0)\r\nconst endTime = endOfToday()\r\n\r\n\r\nexport default class SchedulerTabs extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            presentTab: 0,\r\n            isLoaded: false,\r\n            selectedArray: [],\r\n            selectVisiblity: false,\r\n            removeVideoVisibility: true,\r\n            submittingvideoid: '',\r\n            showtimepicker: false,\r\n            showform:false,\r\n            videodata: [1, 2, 2, 3],\r\n            error: false,\r\n            selectedInterval: [selectedStart, selectedEnd],\r\n            videos: [],\r\n           \r\n\r\n        }\r\n    }\r\n\r\n\r\n    errorHandler = ({ error }) => this.setState({ error })\r\n\r\n    onChangeCallback = selectedInterval => this.setState({ selectedInterval })\r\n\r\n\r\n    render() {\r\n        const { videos, videodata, sunday } = this.state;\r\n        const { selectedInterval, error, selectedStart } = this.state;\r\n\r\n\r\n        let selectedday = '';\r\n        if (this.state.presentTab == 0) {\r\n            selectedday = 'Sunday';\r\n        }else if(this.state.presentTab == 1){\r\n            selectedday = 'Monday';\r\n        }else if(this.state.presentTab == 2){\r\n            selectedday = 'Tuesday';\r\n        }else if(this.state.presentTab == 3){\r\n            selectedday = 'Wednesday';\r\n        }else if(this.state.presentTab == 4){\r\n            selectedday = 'Thursday';\r\n        }else if(this.state.presentTab == 5){\r\n            selectedday = 'Friday';\r\n        }else if(this.state.presentTab == 6){\r\n            selectedday = 'Saturday';\r\n        }\r\n\r\n\r\n\r\n        let disabledIntervals = videodata.map(x => ({\r\n            start: getTodayAtSpecificHour(x.starthour, x.startminute), end: getTodayAtSpecificHour(x.endhour, x.endminute)\r\n        }))\r\n\r\n\r\n      console.log(this.state.selectedInterval[0])\r\n\r\n        return (\r\n            <div>\r\n                <div className=\"scheduler-wrapper\" >\r\n                \r\n                    <Tabs onSelect={this.twocalls}  >\r\n                        <TabList >\r\n                            <Tab>Sunday </Tab>\r\n\r\n                            <Tab>Monday</Tab>\r\n                            <Tab>Tuesday</Tab>\r\n                            <Tab>Wednesday</Tab>\r\n                            <Tab>Thursday</Tab>\r\n                            <Tab>Friday</Tab>\r\n                            <Tab>Saturday</Tab>\r\n                        </TabList>\r\n\r\n\r\n                        <TabPanel style={{ padding: 20, backgroundColor: '#fff' }}>\r\n                            <SundaySelection\r\n                                toggleAandR={() => this.toggleAddandRemove()}\r\n                                toggleAddmore={this.state.removeVideoVisibility}\r\n                                selectVisible={this.state.selectVisiblity}\r\n                                currentTab={this.state.presentTab}\r\n                            />\r\n                        </TabPanel>\r\n\r\n                        <TabPanel style={{ padding: 20, backgroundColor: '#fff' }}>\r\n                            <MondaySelection\r\n                                toggleAandR={() => this.toggleAddandRemove()}\r\n                                toggleAddmore={this.state.removeVideoVisibility}\r\n                                selectVisible={this.state.selectVisiblity}\r\n                                currentTab={this.state.presentTab}\r\n                            />\r\n                        </TabPanel>\r\n\r\n                        <TabPanel style={{ padding: 20, backgroundColor: '#fff' }}>\r\n                            <TuesdaySelection\r\n                                toggleAandR={() => this.toggleAddandRemove()}\r\n                                toggleAddmore={this.state.removeVideoVisibility}\r\n                                selectVisible={this.state.selectVisiblity}\r\n                                currentTab={this.state.presentTab}\r\n                            />\r\n                        </TabPanel>\r\n\r\n                        <TabPanel style={{ padding: 20, backgroundColor: '#fff' }}>\r\n                            <WednesdaySelection\r\n                                toggleAandR={() => this.toggleAddandRemove()}\r\n                                toggleAddmore={this.state.removeVideoVisibility}\r\n                                selectVisible={this.state.selectVisiblity}\r\n                                currentTab={this.state.presentTab}\r\n                            />\r\n                        </TabPanel>\r\n\r\n                        <TabPanel style={{ padding: 20, backgroundColor: '#fff' }}>\r\n                            <ThursdaySelection\r\n                                toggleAandR={() => this.toggleAddandRemove()}\r\n                                toggleAddmore={this.state.removeVideoVisibility}\r\n                                selectVisible={this.state.selectVisiblity}\r\n                                currentTab={this.state.presentTab}\r\n                            />\r\n                        </TabPanel>\r\n\r\n                        <TabPanel style={{ padding: 20, backgroundColor: '#fff' }}>\r\n                            <FridaySelection\r\n                                toggleAandR={() => this.toggleAddandRemove()}\r\n                                toggleAddmore={this.state.removeVideoVisibility}\r\n                                selectVisible={this.state.selectVisiblity}\r\n                                currentTab={this.state.presentTab}\r\n                            />\r\n                        </TabPanel>\r\n\r\n                        <TabPanel style={{ padding: 20, backgroundColor: '#fff' }}>\r\n                            <SaturdaySelection\r\n                                toggleAandR={() => this.toggleAddandRemove()}\r\n                                toggleAddmore={this.state.removeVideoVisibility}\r\n                                selectVisible={this.state.selectVisiblity}\r\n                                currentTab={this.state.presentTab}\r\n                            />\r\n                        </TabPanel>\r\n\r\n                    </Tabs>\r\n\r\n\r\n                    {(this.state.showtimepicker) ? \r\n                    \r\n                    <div className=\"overlay\">\r\n                    <div className=\"timepicker1\">\r\n\r\n                    <p className=\"closetimeselection\" onClick={() => this.closeSelectionbox()}><FaTimes /></p>\r\n                    <p>Select Time Frame for this Video</p>\r\n\r\n                    <div className=\"timepicker-wrappper\">\r\n                        <div className=\"timepicker-inner\">\r\n                            <span>Selected Interval: </span>\r\n                            {selectedInterval.map((d, i) => (\r\n                                <span key={i}>{format(d, \"dd MMM, HH:mm\")}</span>\r\n                            ))}\r\n\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"timepicker-slider\">\r\n                        <TimeRange\r\n                            error={error}\r\n                            ticksNumber={36}\r\n                            selectedInterval={selectedInterval}\r\n                            timelineInterval={[startTime, endTime]}\r\n                            onUpdateCallback={this.errorHandler}\r\n                            onChangeCallback={this.onChangeCallback}\r\n                            disabledIntervals={disabledIntervals}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"submitvideobtn\">\r\n                        <span onClick={() => this.displayForm()}> Submit</span>\r\n                    </div>\r\n\r\n                </div>\r\n                    </div> :\r\n                    <div></div>}\r\n                    \r\n\r\n                    {(this.state.showform) ? \r\n                        <SchedularForm \r\n                           presentTabprop={this.state.presentTab} \r\n                           selecteddayprop={selectedday} \r\n                           starttimeprop={format(this.state.selectedInterval[0], \"HH:mm\")} \r\n                           endtimeprop={format(this.state.selectedInterval[1], \"HH:mm\")}\r\n                           selectedvideo ={this.state.submittingvideoid}\r\n                           />\r\n                     :\r\n                    \r\n                    <div></div>}\r\n                </div>\r\n                <div>\r\n                    {(this.state.selectVisiblity) ? <div style={{}}>\r\n                        {videos.map((video) =>\r\n                            <div className=\"admin_video_box2\" key={video.videoid}>\r\n                            <Card className=\"admin_video_box_img\">\r\n                                           <Card.Img src={video.videothumbnail} alt=\"image\" className=\"admin_index_left_a_img\"/>\r\n                                           <div className=\"admin_videoview_content_wrap\"></div>\r\n                                           <Card.ImgOverlay>\r\n                                             <Card.Text>\r\n                                               <div className=\"admin_overlaycontent-sidebar\">\r\n                                                  <Link to={`videoview/${video.videoid}`} className=\"link\"><span><FaPlay/></span></Link>\r\n                                               </div>\r\n                                             </Card.Text>\r\n                                           </Card.ImgOverlay>\r\n                                         </Card>\r\n                            <div className=\"admin_video_box_content\">\r\n                               \r\n                                <div className=\"admin_video_box_content_right\">\r\n                                     <span className=\"admin_span_title\">{video.videotitle}</span>\r\n                                    <div className=\"admin_video_content_right_c\">\r\n                                        <span>Duration: {video.videoduration}</span>\r\n                                        <span  onClick={() => this.selectTiming(video.videoid, video.videopersecond)}>Add</span> \r\n                                    </div>\r\n                                </div>\r\n                             </div>\r\n                            </div>\r\n                            \r\n                            \r\n                            \r\n                            )}\r\n                    </div> : <div></div>}\r\n                </div>\r\n            </div>\r\n        );\r\n\r\n\r\n\r\n    };\r\n\r\n    fetchVideos = () => {\r\n        //http://192.168.8.100/videostreaming/allvideos\r\n        fetch('/videostreaming/alladminvideos.php', {\r\n            method: 'POST',\r\n            \r\n            body: JSON.stringify({\r\n                accesstoken: 'userName',\r\n\r\n            })\r\n        })\r\n\r\n            .then((response) => response.json())\r\n            .then((responseJSON) => {\r\n                this.setState({\r\n                    isLoaded: true,\r\n                    videos: responseJSON['output'][0]['data'],\r\n                })\r\n            //  console.log(responseJSON);\r\n            }).catch((error)=>{\r\n                //console.log(error)\r\n            })\r\n    }\r\n\r\n    toggleAddandRemove = () => {\r\n        this.state.selectVisiblity\r\n            ? this.setState({ selectVisiblity: false })\r\n            : this.setState({ selectVisiblity: true });\r\n\r\n        this.state.removeVideoVisibility\r\n            ? this.setState({ removeVideoVisibility: false })\r\n            : this.setState({ removeVideoVisibility: true });\r\n\r\n    }\r\n\r\n\r\n    callbackFunction = (childData) => {\r\n        this.setState({ presentTab: childData })\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.fetchVideos();\r\n\r\n        this.interval8 = setInterval(() => this.fetchScheduledVideos(), 1000);\r\n    }\r\n\r\n\r\n    componentWillUnmount() {\r\n        clearInterval(this.interval);\r\n\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        clearInterval(this.interval);\r\n    }\r\n\r\n    twocalls = (firstTab, second) => {\r\n        this.setState({\r\n            presentTab: firstTab\r\n        })\r\n\r\n        //this.sendData(firstTab)\r\n    }\r\n\r\n    selectTiming(vid, vpersecond) {\r\n        this.setState({\r\n            showtimepicker: true,\r\n            submittingvideoid: vid\r\n        })\r\n\r\n    }\r\n\r\n    displayForm() {\r\n        this.setState({\r\n            showtimepicker: false,\r\n            showform:true\r\n        })\r\n\r\n    }\r\n\r\n    closeSelectionbox() {\r\n        this.setState({\r\n            showtimepicker: false,\r\n        })\r\n    }\r\n\r\n    fetchScheduledVideos = () => {\r\n        //http://192.168.137.1/videostreaming/allvideos\r\n        fetch('/videostreaming/scheduledvideos.php', {\r\n            method: 'POST',\r\n            \r\n            body: JSON.stringify({\r\n                accesstoken: 'iita-web-developers',\r\n                selectedday: this.state.presentTab,\r\n            })\r\n        })\r\n\r\n            .then((response) => response.json())\r\n            .then((responseJSON) => {\r\n                this.setState({\r\n                    isLoaded: true,\r\n                    videodata: responseJSON['output'][0]['data'],\r\n                });\r\n                let test = responseJSON;\r\n                console.log( test);\r\n                //console.log(this.state.presentTab);\r\n\r\n\r\n            })\r\n    }\r\n\r\n\r\n\r\n\r\n}\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}