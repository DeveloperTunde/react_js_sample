{"ast":null,"code":"var _jsxFileName = \"/Users/developertunde/iitatv/src/videos/PasswordRecovery.jsx\";\nimport React, { Component, useState } from 'react';\nimport { BrowserRouter, Router, Switch, Route, Link } from \"react-router-dom\";\nimport Sidebar from '../components/Sidebar';\nimport '../assets/css/videos.css';\nimport '../assets/css/styles.css';\nimport '../assets/css/user.css';\nimport '../assets/css/header.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { FaShare, FaEye, FaEyeSlash } from 'react-icons/fa';\nimport Thumbnaila from '../assets/images/thumbnaila.png';\nimport { uid, suid } from 'rand-token';\nimport AlertComponent from '../reuseables/Alert';\nimport Header from '../components/LoginHeader';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass UserIndex extends Component {\n  constructor() {\n    super();\n    this.state = {\n      user: '',\n      password: '',\n      password2: '',\n      email: '',\n      pass: true,\n      pass2: true,\n      togglealert: false,\n      alerttitle: '',\n      alertcontent: '',\n      alerttype: '',\n      isValid: false,\n      isleftsidebar: 'desktop_display'\n    };\n  }\n\n  setShow(e) {\n    let alertstate = this.state.togglealert;\n    this.setState({\n      togglealert: e\n    });\n  }\n\n  handleInput(event) {\n    const target = event.target;\n    const value = target.value;\n    const name = target.name;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  togglePassword() {\n    let pass = this.state.pass;\n    this.setState({\n      pass: !pass\n    });\n  }\n\n  togglePassword2() {\n    let pass2 = this.state.pass2;\n    this.setState({\n      pass2: !pass2\n    });\n  }\n\n  async saveItem(item, data) {\n    try {\n      await sessionStorage.setItem(item, data);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  checkParams() {\n    fetch('/videostreaming/checkrecoveryparam.php', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        email: this.props.match.params.email,\n        recovery: this.props.match.params.recovery\n      })\n    }).then(response => response.json()).then(responseJSON => {\n      if (responseJSON['output'][0]['success'] == 'true') {\n        this.setState({\n          isValid: true\n        });\n      }\n\n      console.log(responseJSON);\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  loginUser() {\n    if (this.state.password != '') {\n      if (this.state.password2 != '') {\n        if (this.state.password != this.state.password2) {\n          this.setShow(true);\n          this.setState({\n            alerttitle: 'Form Error!',\n            alertcontent: 'The two passwords do not match',\n            alerttype: 'danger'\n          });\n        } else {\n          fetch('/videostreaming/resetpassword.php', {\n            method: 'POST',\n            headers: {\n              Accept: 'application/json',\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              password: this.state.password,\n              email: this.props.match.params.email\n            })\n          }).then(response => response.json()).then(responseJSON => {\n            console.log(responseJSON);\n            let responsestatus = responseJSON['output'][0]['success'];\n            this.setShow(true);\n\n            if (responsestatus == 'true') {\n              window.location = '/login';\n            } else {\n              this.setState({\n                alerttitle: 'Sorry!',\n                alertcontent: 'Unable to change your password at the moment',\n                alerttype: 'warning'\n              });\n            }\n          }).catch(error => {\n            console.log(error);\n          });\n        }\n      } else {\n        this.setShow(true);\n        this.setState({\n          alerttitle: 'Form Error!',\n          alertcontent: 'Please fill the second password box',\n          alerttype: 'danger'\n        });\n      }\n    } else {\n      this.setShow(true);\n      this.setState({\n        alerttitle: 'Form Error!',\n        alertcontent: 'Please fill the first password box',\n        alerttype: 'danger'\n      });\n    }\n  }\n\n  getUset() {\n    this.setState({\n      user: localStorage.getItem('userReg')\n    });\n  }\n\n  componentDidMount() {\n    this.getUset();\n    this.checkParams();\n  }\n\n  render() {\n    const {\n      togglealert,\n      alertcontent,\n      alerttype,\n      alerttitle\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"body\",\n      children: [/*#__PURE__*/_jsxDEV(Sidebar, {\n        leftsidebar: this.state.isleftsidebar,\n        closeLeftSidebar: () => this.toggleLeftSidebar()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content\",\n        children: [/*#__PURE__*/_jsxDEV(Header, {\n          openLeftSidebar: () => this.toggleLeftSidebar()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 17\n        }, this), this.state.togglealert ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loginalert\",\n          children: /*#__PURE__*/_jsxDEV(AlertComponent, {\n            title: alerttitle,\n            showalert: togglealert,\n            content: alertcontent,\n            type: alerttype,\n            closealert: () => this.setShow(false)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 23\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 19\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 28\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"page_container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"user_form_wrapper\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"login_title\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Change Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 25\n            }, this), this.state.isValid ? /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                float: 'left',\n                width: '100%'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form_group_lg form_group_input\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: this.state.pass ? 'password' : 'text',\n                  name: \"password\",\n                  placeholder: \"Password\",\n                  value: this.state.password,\n                  onChange: this.handleInput.bind(this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 196,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n                  children: [this.state.pass ? /*#__PURE__*/_jsxDEV(FaEye, {\n                    onClick: () => this.togglePassword(true)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 202,\n                    columnNumber: 53\n                  }, this) : /*#__PURE__*/_jsxDEV(FaEyeSlash, {\n                    onClick: () => this.togglePassword(false)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 202,\n                    columnNumber: 107\n                  }, this), \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 202,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form_group_lg form_group_input\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: this.state.pass2 ? 'password' : 'text',\n                  name: \"password2\",\n                  placeholder: \"Confirm Password\",\n                  value: this.state.password2,\n                  onChange: this.handleInput.bind(this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n                  children: [this.state.pass2 ? /*#__PURE__*/_jsxDEV(FaEye, {\n                    onClick: () => this.togglePassword2(true)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 212,\n                    columnNumber: 54\n                  }, this) : /*#__PURE__*/_jsxDEV(FaEyeSlash, {\n                    onClick: () => this.togglePassword2(false)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 212,\n                    columnNumber: 109\n                  }, this), \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 212,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"primaryButton form_group_lg reg_submit_btn\",\n                onClick: () => this.loginUser(),\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Change\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 32\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 25\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                float: 'left',\n                width: '100%',\n                textAlign: 'center',\n                color: 'red'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Sorry, incorrect recovery parameters\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"login_footer\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"login_footer_reglink\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Already have an account?\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 224,\n                  columnNumber: 32\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: /*#__PURE__*/_jsxDEV(Link, {\n                    className: \"secondaryColor\",\n                    to: '/login',\n                    children: \"Login\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 225,\n                    columnNumber: 38\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 32\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 22\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 13\n    }, this);\n  }\n\n  toggleLeftSidebar() {\n    let isrightsidebar = this.state.isrightside;\n\n    if (isrightsidebar == 'mobile_display') {\n      this.setState({\n        isrightside: 'desktop_display'\n      });\n    }\n\n    let isleftsidebar = this.state.isleftsidebar;\n\n    if (isleftsidebar == 'desktop_display') {\n      this.setState({\n        isleftsidebar: 'mobile_display'\n      });\n    } else {\n      this.setState({\n        isleftsidebar: 'desktop_display'\n      });\n    }\n  }\n\n}\n\nexport default UserIndex;","map":{"version":3,"sources":["/Users/developertunde/iitatv/src/videos/PasswordRecovery.jsx"],"names":["React","Component","useState","BrowserRouter","Router","Switch","Route","Link","Sidebar","FaShare","FaEye","FaEyeSlash","Thumbnaila","uid","suid","AlertComponent","Header","UserIndex","constructor","state","user","password","password2","email","pass","pass2","togglealert","alerttitle","alertcontent","alerttype","isValid","isleftsidebar","setShow","e","alertstate","setState","handleInput","event","target","value","name","togglePassword","togglePassword2","saveItem","item","data","sessionStorage","setItem","error","console","log","checkParams","fetch","method","headers","body","JSON","stringify","props","match","params","recovery","then","response","json","responseJSON","catch","loginUser","Accept","responsestatus","window","location","getUset","localStorage","getItem","componentDidMount","render","toggleLeftSidebar","float","width","bind","textAlign","color","isrightsidebar","isrightside"],"mappings":"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","sourcesContent":["import React, { Component, useState } from 'react';\n\nimport { BrowserRouter, Router, Switch, Route, Link } from \"react-router-dom\";\nimport Sidebar from '../components/Sidebar';\nimport '../assets/css/videos.css'\nimport '../assets/css/styles.css'\nimport '../assets/css/user.css'\nimport '../assets/css/header.css'\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { FaShare, FaEye, FaEyeSlash } from 'react-icons/fa'\nimport Thumbnaila from '../assets/images/thumbnaila.png'\nimport { uid, suid } from 'rand-token';\nimport AlertComponent from '../reuseables/Alert'\nimport Header from '../components/LoginHeader';\n\n\nclass UserIndex extends Component {\n   \n     constructor(){\n        super();\n        this.state={\n            user: '',\n            password:'',\n            password2:'',\n            email:'',\n            pass:true,\n            pass2:true,\n            togglealert:false,\n            alerttitle:'', alertcontent:'', alerttype:'',\n            isValid:false,\n            isleftsidebar:'desktop_display'\n        }\n     }\n\n\nsetShow(e){\n let alertstate = this.state.togglealert;\n    this.setState({\n        togglealert: e\n    })\n}\nhandleInput(event) {\n const target = event.target;\n const value = target.value;\n const name = target.name;\n this.setState({\n      [name]: value\n });\n}\n        \ntogglePassword() {\n    let pass = this.state.pass;\n    this.setState({\n        pass: !pass\n    })\n}\n\ntogglePassword2() {\n    let pass2 = this.state.pass2;\n    this.setState({\n        pass2: !pass2\n    })\n}\n\nasync saveItem(item, data) {\n    try {\n        await sessionStorage.setItem(item, data)\n    } catch (error) {\n        console.log(error);\n    }\n}\n\n\ncheckParams(){\n    fetch('/videostreaming/checkrecoveryparam.php', {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n            email: this.props.match.params.email,\n            recovery: this.props.match.params.recovery,\n      })\n    })\n        .then((response) => response.json())\n        .then((responseJSON) => {\n            if (responseJSON['output'][0]['success'] == 'true') {\n               this.setState({\n                   isValid:true\n               })\n            }\n        console.log(responseJSON);\n        }).catch((error) =>{\n            console.log(error);\n        })\n}\n\nloginUser() {\n        if(this.state.password != ''){\n                if(this.state.password2 != ''){    \n                    if (this.state.password != this.state.password2) {\n                        this.setShow(true);\n                         this.setState({\n                          alerttitle:'Form Error!', alertcontent:'The two passwords do not match', alerttype:'danger'\n                         })\n                   }\n                else {\n                fetch('/videostreaming/resetpassword.php', {\n                    method: 'POST',\n                    headers: {\n                        Accept: 'application/json',\n                        'Content-Type': 'application/json',\n            \n                    },\n                    body: JSON.stringify({\n                        password: this.state.password,\n                        email:this.props.match.params.email\n                    })\n                })\n            \n                    .then((response) => response.json())\n                    .then((responseJSON) => {\n            \n                    console.log(responseJSON);\n                    let responsestatus = responseJSON['output'][0]['success'];\n\n                    this.setShow(true);\n                           \n                    if (responsestatus == 'true') {\n                       window.location='/login'\n                    }else{\n                     this.setState({\n                           alerttitle:'Sorry!', alertcontent:'Unable to change your password at the moment', alerttype:'warning'\n                     })\n                     }\n                       \n                    }).catch((error) => {\n                       console.log(error);  \n                    \n                    })\n            \n                 }\n            }else {\n                this.setShow(true);\n                this.setState({\n                    alerttitle:'Form Error!', alertcontent:'Please fill the second password box', alerttype:'danger'\n                })\n            }\n            }else {\n                 this.setShow(true);\n                 this.setState({\n                    alerttitle:'Form Error!', alertcontent:'Please fill the first password box', alerttype:'danger'\n                 })\n             }\n       \n\n}\n\ngetUset(){\n    this.setState({\n        user:localStorage.getItem('userReg')\n    })\n}\ncomponentDidMount(){\n  this.getUset();\n  this.checkParams();\n}\n\n    render() {\n        const {togglealert, alertcontent, alerttype, alerttitle} = this.state;\n        return (\n            <div className=\"body\">\n                <Sidebar leftsidebar={this.state.isleftsidebar}  closeLeftSidebar={() => this.toggleLeftSidebar()}/>\n                <div className=\"content\">\n                <Header openLeftSidebar={() => this.toggleLeftSidebar()} />\n                {(this.state.togglealert) ? \n                  <div className=\"loginalert\">\n                      <AlertComponent \n                      title={alerttitle}\n                      showalert={togglealert} \n                      content={alertcontent} \n                      type={alerttype}\n                      closealert={() => this.setShow(false)}/>\n                  </div> : <div></div>}\n                <div className=\"page_container\">\n                \n                     <div className=\"user_form_wrapper\">\n                        <div className=\"login_title\">\n                            <span>Change Password</span>\n                        </div>\n\n                        {(this.state.isValid)? \n                        <div style={{float:'left', width:'100%'}}>\n                        <div className=\"form_group_lg form_group_input\">\n                            <input \n                             type={(this.state.pass) ? 'password' : 'text'} \n                             name=\"password\"\n                             placeholder=\"Password\" \n                             value={this.state.password} \n                             onChange={this.handleInput.bind(this)}/>\n                            <i>{(this.state.pass) ? <FaEye onClick={() => this.togglePassword(true)} /> : <FaEyeSlash onClick={() => this.togglePassword(false)} />} </i>\n                        </div>\n\n                        <div className=\"form_group_lg form_group_input\">\n                            <input \n                             type={(this.state.pass2) ? 'password' : 'text'} \n                             name=\"password2\"\n                             placeholder=\"Confirm Password\" \n                             value={this.state.password2} \n                             onChange={this.handleInput.bind(this)}/>\n                            <i>{(this.state.pass2) ? <FaEye onClick={() => this.togglePassword2(true)} /> : <FaEyeSlash onClick={() => this.togglePassword2(false)} />} </i>\n                        </div>\n                      \n                        <div className=\"primaryButton form_group_lg reg_submit_btn\" onClick={() =>this.loginUser() }>\n                               <span>Change</span>\n                        </div>\n                        </div>: \n                        <div style={{float:'left', width:'100%', textAlign:'center', color:'red'}}>\n                            <span>Sorry, incorrect recovery parameters</span>\n                        </div>}\n                        <div className=\"login_footer\">\n                            <div className=\"login_footer_reglink\">\n                               <span>Already have an account?</span>\n                               <span><Link className=\"secondaryColor\" to={'/login'}>Login</Link></span>\n                            </div>\n                           \n                        </div>\n                     </div>\n                </div>\n                </div>\n            </div>\n        );\n    }\n\n    toggleLeftSidebar(){\n\n        let isrightsidebar = this.state.isrightside;\n        if (isrightsidebar == 'mobile_display') {\n            this.setState({\n                isrightside:'desktop_display'\n            })\n        }\n\n        let isleftsidebar = this.state.isleftsidebar;\n        if (isleftsidebar == 'desktop_display') {\n            this.setState({\n                isleftsidebar:'mobile_display'\n            })\n        }else{\n            this.setState({\n                isleftsidebar:'desktop_display'\n            })\n        }\n    }\n}\n\nexport default UserIndex;\n"]},"metadata":{},"sourceType":"module"}