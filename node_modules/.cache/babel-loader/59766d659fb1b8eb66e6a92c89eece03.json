{"ast":null,"code":"var _jsxFileName = \"/Users/developertunde/iitatv/src/admin/components/SaturdaySelection.jsx\";\nimport React, { Component } from 'react';\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\nimport 'react-tabs/style/react-tabs.css';\nimport { BrowserRouter, Router, Switch, Route, Link } from \"react-router-dom\";\nimport Card from 'react-bootstrap/Card';\nimport { FaPlay, FaPlus } from 'react-icons/fa';\nimport 'react-tabs/style/react-tabs.css';\nimport ReactPlayer from 'react-player/lazy';\nimport ProgressBar from 'react-bootstrap/ProgressBar';\nimport Ruler from './ScheduleRuler';\nimport '../../assets/css/styles.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { Button } from 'reactstrap';\nimport { endOfToday, set, format } from 'date-fns';\nimport TimeRange from 'react-timeline-range-slider';\nimport { FaTimes } from 'react-icons/fa';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst now = new Date();\n\nconst getTodayAtSpecificHour = (hour, minute) => set(now, {\n  hours: hour,\n  minutes: minute,\n  seconds: 0,\n  milliseconds: 0\n});\n\nconst selectedStart = getTodayAtSpecificHour();\nconst selectedEnd = getTodayAtSpecificHour(8);\nconst startTime = getTodayAtSpecificHour(0);\nconst endTime = endOfToday();\nexport default class SundaySelection extends Component {\n  constructor() {\n    super();\n\n    this.fetchVideos = () => {\n      //http://192.168.8.100/videostreaming/allvideos\n      fetch('/videostreaming/allvideos.php', {\n        method: 'POST',\n        body: JSON.stringify({\n          accesstoken: 'userName'\n        })\n      }).then(response => response.json()).then(responseJSON => {\n        this.setState({\n          isLoaded: true,\n          videos: responseJSON['output'][0]['data']\n        });\n      });\n    };\n\n    this.callbackFunction = childData => {\n      this.setState({\n        presentTab: childData\n      });\n    };\n\n    this.fetchScheduledVideos = () => {\n      //http://192.168.137.1/videostreaming/allvideos\n      fetch('/videostreaming/scheduledvideos.php', {\n        method: 'POST',\n        body: JSON.stringify({\n          accesstoken: 'iita-web-developers',\n          selectedday: this.props.currentTab\n        })\n      }).then(response => response.json()).then(responseJSON => {\n        this.setState({\n          isLoaded: true,\n          videodata: responseJSON['output'][0]['data']\n        }); //let test = responseJSON['output'][0]['data'];\n        //console.log(test);\n        //console.log(this.state.presentTab);\n      });\n    };\n\n    this.errorHandler = _ref => {\n      let {\n        error\n      } = _ref;\n      return this.setState({\n        error\n      });\n    };\n\n    this.onChangeCallback = selectedInterval => this.setState({\n      selectedInterval\n    });\n\n    this.fetchTuesday = () => {\n      //http://192.168.8.100/videostreaming/allvideos\n      fetch('/videostreaming/selectionlist.php', {\n        method: 'POST',\n        body: JSON.stringify({\n          accesstoken: 'userName',\n          fetchday: 6\n        })\n      }).then(response => response.json()).then(responseJSON => {\n        this.setState({\n          saturday: responseJSON['output'][0]['data']\n        });\n      });\n    };\n\n    this.state = {\n      isLoaded: false,\n      selectedArray: [],\n      selectVisiblity: false,\n      submittingvideoid: '',\n      showtimepicker: false,\n      videodata: [1, 2, 2, 3],\n      error: false,\n      selectedInterval: [selectedStart, selectedEnd],\n      videos: [],\n      saturday: [],\n      presentTab: 6\n    };\n  }\n\n  componentDidMount() {\n    this.fetchVideos();\n  }\n\n  componentDidMount() {\n    this.fetchVideos();\n    this.interval = setInterval(() => this.fetchTuesday(), 1000);\n    this.interval8 = setInterval(() => this.fetchScheduledVideos(), 1000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n    clearInterval(this.interval8);\n  }\n\n  deleteSelection(vid, vpersecond) {\n    fetch('/videostreaming/deleteselection.php', {\n      method: 'POST',\n      body: JSON.stringify({\n        selectedvideodel: vid,\n        selecteddaydel: this.state.presentTab\n      })\n    }).then(response => response.json()).then(responseJSON => {\n      /*  return (\r\n         alert(responseJSON + \"! The selections have been added\")\r\n       ); */\n    });\n  }\n\n  render() {\n    const {\n      selectedInterval,\n      error,\n      selectedStart\n    } = this.state;\n    const {\n      saturday,\n      videodata\n    } = this.state;\n    let disabledIntervals = videodata.map(x => ({\n      start: getTodayAtSpecificHour(x.starthour, x.startminute),\n      end: getTodayAtSpecificHour(x.endhour, x.endminute)\n    }));\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"schedule-display\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"timepicker-slider2\",\n        children: /*#__PURE__*/_jsxDEV(TimeRange, {\n          error: error,\n          ticksNumber: 36,\n          selectedInterval: selectedInterval,\n          timelineInterval: [startTime, endTime],\n          onUpdateCallback: this.errorHandler,\n          onChangeCallback: this.onChangeCallback,\n          disabledIntervals: disabledIntervals\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"addmorebtn-toggle\",\n        onClick: this.props.toggleAandR,\n        children: this.props.selectVisible ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"addmorebtn-toggle-inner-1\",\n          style: {\n            backgroundColor: 'tomato'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: '#fff'\n            },\n            children: /*#__PURE__*/_jsxDEV(FaTimes, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 51\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: '#fff'\n            },\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 21\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"addmorebtn-toggle-inner-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: /*#__PURE__*/_jsxDEV(FaPlus, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 28\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Add more video\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 13\n      }, this), this.props.toggleAddmore ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: saturday.map(video => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"admin_video_box2\",\n          children: [/*#__PURE__*/_jsxDEV(Card, {\n            className: \"admin_video_box_img\",\n            children: [/*#__PURE__*/_jsxDEV(Card.Img, {\n              src: video.videothumbnail,\n              alt: \"image\",\n              className: \"admin_index_left_a_img\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 32\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"admin_videoview_content_wrap\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 32\n            }, this), /*#__PURE__*/_jsxDEV(Card.ImgOverlay, {\n              children: /*#__PURE__*/_jsxDEV(Card.Text, {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"admin_overlaycontent-sidebar\",\n                  children: /*#__PURE__*/_jsxDEV(Link, {\n                    to: `videoview/${video.videoid}`,\n                    className: \"link\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: /*#__PURE__*/_jsxDEV(FaPlay, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 209,\n                        columnNumber: 102\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 209,\n                      columnNumber: 96\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 209,\n                    columnNumber: 39\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 208,\n                  columnNumber: 36\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 34\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 32\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"admin_video_box_content\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"admin_video_box_content_right\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"admin_span_title\",\n                children: video.videotitle\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 26\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"admin_video_content_right_b\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"From\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 219,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [video.starttime, \"-\", video.endtime, \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 220,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  onClick: () => this.deleteSelection(video.id, video.videopersecond),\n                  children: \"Remove\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 221,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 17\n          }, this)]\n        }, video.videoid, true, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 43\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 22\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/Users/developertunde/iitatv/src/admin/components/SaturdaySelection.jsx"],"names":["React","Component","Tab","Tabs","TabList","TabPanel","BrowserRouter","Router","Switch","Route","Link","Card","FaPlay","FaPlus","ReactPlayer","ProgressBar","Ruler","Button","endOfToday","set","format","TimeRange","FaTimes","now","Date","getTodayAtSpecificHour","hour","minute","hours","minutes","seconds","milliseconds","selectedStart","selectedEnd","startTime","endTime","SundaySelection","constructor","fetchVideos","fetch","method","body","JSON","stringify","accesstoken","then","response","json","responseJSON","setState","isLoaded","videos","callbackFunction","childData","presentTab","fetchScheduledVideos","selectedday","props","currentTab","videodata","errorHandler","error","onChangeCallback","selectedInterval","fetchTuesday","fetchday","saturday","state","selectedArray","selectVisiblity","submittingvideoid","showtimepicker","componentDidMount","interval","setInterval","interval8","componentWillUnmount","clearInterval","deleteSelection","vid","vpersecond","selectedvideodel","selecteddaydel","render","disabledIntervals","map","x","start","starthour","startminute","end","endhour","endminute","toggleAandR","selectVisible","backgroundColor","color","toggleAddmore","video","videothumbnail","videoid","videotitle","starttime","endtime","id","videopersecond"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\r\nimport 'react-tabs/style/react-tabs.css';\r\nimport { BrowserRouter, Router, Switch, Route, Link } from \"react-router-dom\";\r\nimport Card from 'react-bootstrap/Card'\r\nimport { FaPlay, FaPlus } from 'react-icons/fa';\r\nimport 'react-tabs/style/react-tabs.css';\r\nimport ReactPlayer from 'react-player/lazy'\r\nimport ProgressBar from 'react-bootstrap/ProgressBar'\r\nimport Ruler from './ScheduleRuler';\r\nimport '../../assets/css/styles.css'\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { Button, } from 'reactstrap';\r\nimport { endOfToday, set, format } from 'date-fns'\r\nimport TimeRange from 'react-timeline-range-slider'\r\nimport { FaTimes } from 'react-icons/fa';\r\n\r\nconst now = new Date()\r\nconst getTodayAtSpecificHour = (hour, minute) =>\r\n    set(now, { hours: hour, minutes: minute, seconds: 0, milliseconds: 0 })\r\n\r\nconst selectedStart = getTodayAtSpecificHour()\r\nconst selectedEnd = getTodayAtSpecificHour(8)\r\n\r\nconst startTime = getTodayAtSpecificHour(0)\r\nconst endTime = endOfToday()\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default class SundaySelection extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            isLoaded: false,\r\n            selectedArray: [],\r\n            selectVisiblity: false,\r\n            submittingvideoid: '',\r\n            showtimepicker: false,\r\n            videodata: [1, 2, 2, 3],\r\n            error: false,\r\n            selectedInterval: [selectedStart, selectedEnd],\r\n            videos: [],\r\n            saturday: [],\r\n            presentTab:6\r\n        }\r\n    }\r\n\r\n\r\n    fetchVideos = () => {\r\n        //http://192.168.8.100/videostreaming/allvideos\r\n        fetch('/videostreaming/allvideos.php', {\r\n            method: 'POST',\r\n            \r\n            body: JSON.stringify({\r\n                accesstoken: 'userName',\r\n\r\n            })\r\n        })\r\n\r\n            .then((response) => response.json())\r\n            .then((responseJSON) => {\r\n                this.setState({\r\n                    isLoaded: true,\r\n                    videos: responseJSON['output'][0]['data'],\r\n                })\r\n            })\r\n    }\r\n\r\n\r\n\r\n    callbackFunction = (childData) => {\r\n        this.setState({ presentTab: childData })\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.fetchVideos();\r\n\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        this.fetchVideos();\r\n        this.interval = setInterval(() => this.fetchTuesday(), 1000);\r\n\r\n        this.interval8 = setInterval(() => this.fetchScheduledVideos(), 1000);\r\n    }\r\n\r\n\r\n    componentWillUnmount() {\r\n        clearInterval(this.interval);\r\n        clearInterval(this.interval8);\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    fetchScheduledVideos = () => {\r\n        //http://192.168.137.1/videostreaming/allvideos\r\n        fetch('/videostreaming/scheduledvideos.php', {\r\n            method: 'POST',\r\n            \r\n            body: JSON.stringify({\r\n                accesstoken: 'iita-web-developers',\r\n                selectedday: this.props.currentTab,\r\n            })\r\n        })\r\n\r\n            .then((response) => response.json())\r\n            .then((responseJSON) => {\r\n                this.setState({\r\n                    isLoaded: true,\r\n                    videodata: responseJSON['output'][0]['data'],\r\n                });\r\n                //let test = responseJSON['output'][0]['data'];\r\n                //console.log(test);\r\n                //console.log(this.state.presentTab);\r\n\r\n\r\n            })\r\n    }\r\n\r\n\r\n\r\n    deleteSelection(vid, vpersecond) {\r\n\r\n        fetch('/videostreaming/deleteselection.php', {\r\n            method: 'POST',\r\n            \r\n            body: JSON.stringify({\r\n                selectedvideodel: vid,\r\n                selecteddaydel: this.state.presentTab,\r\n            })\r\n        })\r\n\r\n            .then((response) => response.json())\r\n            .then((responseJSON) => {\r\n\r\n                /*  return (\r\n                   alert(responseJSON + \"! The selections have been added\")\r\n                 ); */\r\n            })\r\n    }\r\n\r\n\r\n\r\n\r\n    errorHandler = ({ error }) => this.setState({ error })\r\n\r\n    onChangeCallback = selectedInterval => this.setState({ selectedInterval })\r\n\r\n\r\n    render() {\r\n        const { selectedInterval, error, selectedStart } = this.state;\r\n        const { saturday, videodata } = this.state;\r\n\r\n        let disabledIntervals = videodata.map(x => ({\r\n            start: getTodayAtSpecificHour(x.starthour, x.startminute), end: getTodayAtSpecificHour(x.endhour, x.endminute)\r\n        }))\r\n\r\n        return (\r\n            <div className=\"schedule-display\">\r\n            <div className=\"timepicker-slider2\">\r\n                <TimeRange\r\n                    error={error}\r\n                    ticksNumber={36}\r\n                    selectedInterval={selectedInterval}\r\n                    timelineInterval={[startTime, endTime]}\r\n                    onUpdateCallback={this.errorHandler}\r\n                    onChangeCallback={this.onChangeCallback}\r\n                    disabledIntervals={disabledIntervals}\r\n                />\r\n            </div>\r\n\r\n\r\n            <div className=\"addmorebtn-toggle\" onClick={this.props.toggleAandR}>\r\n                    {(this.props.selectVisible) ? \r\n                    \r\n                    <div className=\"addmorebtn-toggle-inner-1\" style={{backgroundColor:'tomato'}}> \r\n                        <p style={{color:'#fff'}}><FaTimes/></p>\r\n                        <p style={{color:'#fff'}}>Close</p>\r\n                    </div>\r\n                    : \r\n                    <div className=\"addmorebtn-toggle-inner-2\">\r\n                        <p><FaPlus/></p>\r\n                        <p>Add more video</p>\r\n                    </div>\r\n                    }\r\n            </div>\r\n            {(this.props.toggleAddmore) ? <div>\r\n\r\n                {saturday.map((video) =>\r\n\r\n                <div className=\"admin_video_box2\" key={video.videoid}>\r\n                <Card className=\"admin_video_box_img\">\r\n                               <Card.Img src={video.videothumbnail} alt=\"image\" className=\"admin_index_left_a_img\"/>\r\n                               <div className=\"admin_videoview_content_wrap\"></div>\r\n                               <Card.ImgOverlay>\r\n                                 <Card.Text>\r\n                                   <div className=\"admin_overlaycontent-sidebar\">\r\n                                      <Link to={`videoview/${video.videoid}`} className=\"link\"><span><FaPlay/></span></Link>\r\n                                   </div>\r\n                                 </Card.Text>\r\n                               </Card.ImgOverlay>\r\n                             </Card>\r\n                <div className=\"admin_video_box_content\">\r\n                   \r\n                    <div className=\"admin_video_box_content_right\">\r\n                         <span className=\"admin_span_title\">{video.videotitle}</span>\r\n                        <div className=\"admin_video_content_right_b\">\r\n                            <span>From</span>\r\n                            <span>{video.starttime}-{video.endtime} </span>\r\n                            <span  onClick={() => this.deleteSelection(video.id, video.videopersecond)}>Remove</span> \r\n                        </div>\r\n                    </div>\r\n                 </div>\r\n                </div>\r\n\r\n\r\n                )}\r\n            </div> : <div></div>}\r\n            \r\n            <div>\r\n                \r\n            </div>\r\n            \r\n        </div>\r\n\r\n\r\n        );\r\n\r\n\r\n\r\n    };\r\n\r\n\r\n\r\n\r\n    fetchTuesday = () => {\r\n        //http://192.168.8.100/videostreaming/allvideos\r\n        fetch('/videostreaming/selectionlist.php', {\r\n            method: 'POST',\r\n            \r\n            body: JSON.stringify({\r\n                accesstoken: 'userName',\r\n                fetchday: 6\r\n\r\n            })\r\n        })\r\n\r\n            .then((response) => response.json())\r\n            .then((responseJSON) => {\r\n                this.setState({\r\n\r\n                    saturday: responseJSON['output'][0]['data'],\r\n                })\r\n            })\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n}\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}