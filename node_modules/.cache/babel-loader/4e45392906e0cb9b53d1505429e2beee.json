{"ast":null,"code":"var _jsxFileName = \"/Users/developertunde/iitatv/src/videos/Register.jsx\";\nimport React, { Component, useState } from 'react';\nimport { BrowserRouter, Router, Switch, Route, Link } from \"react-router-dom\";\nimport Sidebar from '../components/Sidebar';\nimport '../assets/css/videos.css';\nimport '../assets/css/styles.css';\nimport '../assets/css/user.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { FaShare, FaEye, FaEyeSlash } from 'react-icons/fa';\nimport Thumbnaila from '../assets/images/thumbnaila.png';\nimport { uid, suid } from 'rand-token';\nimport Alert from 'react-bootstrap/Alert';\nimport AlertComponent from '../reuseables/Alert';\nimport Header from '../components/LoginHeader';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass UserIndex extends Component {\n  constructor() {\n    super();\n    this.state = {\n      pass1: true,\n      pass2: true,\n      token: true,\n      firstname: '',\n      lastname: '',\n      email: '',\n      password1: '',\n      password2: '',\n      hasToken: true,\n      togglealert: false,\n      alerttitle: '',\n      alertcontent: '',\n      alerttype: '',\n      isleftsidebar: 'desktop_display'\n    };\n  }\n\n  setShow(e) {\n    let alertstate = this.state.togglealert;\n    this.setState({\n      togglealert: e\n    });\n  }\n\n  handleInput(event) {\n    const target = event.target;\n    const value = target.value;\n    const name = target.name;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  togglePassword1() {\n    this.state.pass1 ? this.setState({\n      pass1: false\n    }) : this.setState({\n      pass1: true\n    });\n  }\n\n  togglePassword2() {\n    this.state.pass2 ? this.setState({\n      pass2: false\n    }) : this.setState({\n      pass2: true\n    });\n  }\n\n  async saveItem(item, data) {\n    try {\n      await localStorage.setItem(item, data);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  submitRegistration() {\n    if (this.state.firstname != '') {\n      if (this.state.lastname != '') {\n        if (this.state.email != '') {\n          let email = this.state.email;\n          let validemail = email.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i);\n\n          if (validemail) {\n            if (this.state.password1 != '') {\n              if (this.state.password1 != this.state.password2) {\n                alert('The two passwords do not match');\n              } else {\n                const token = suid(20);\n                this.saveItem('token', token);\n                fetch('/videostreaming/rest/create_user.php', {\n                  method: 'POST',\n                  headers: {\n                    Accept: 'application/json',\n                    'Content-Type': 'application/json',\n                    'Authorization': `token ${token}`\n                  },\n                  body: JSON.stringify({\n                    fname: this.state.firstname,\n                    lname: this.state.lastname,\n                    email: this.state.email,\n                    password: this.state.password1\n                  })\n                }).then(response => response.json()).then(responseJSON => {\n                  console.log(responseJSON);\n                  let responsestatus = responseJSON['status'];\n                  let responsemessage = responseJSON['message'];\n                  this.setShow(true);\n\n                  if (responsestatus === 1) {\n                    this.saveItem('userReg', this.state.email);\n                    this.setState({\n                      hasToken: true\n                    });\n                    this.setState({\n                      alerttitle: 'Success!',\n                      alertcontent: `${responsemessage}`,\n                      alerttype: 'success'\n                    });\n                  } else {\n                    this.setState({\n                      alerttitle: 'Sorry!',\n                      alertcontent: `${responsemessage}`,\n                      alerttype: 'warning'\n                    });\n                  }\n                }).catch(error => {\n                  console.log(error);\n                });\n              }\n            } else {\n              this.setShow(true);\n              this.setState({\n                alerttitle: 'Form Error!',\n                alertcontent: 'Please fill the password box',\n                alerttype: 'danger'\n              });\n            }\n          } else {\n            this.setShow(true);\n            this.setState({\n              alerttitle: 'Form Error!',\n              alertcontent: 'Please use a valid email',\n              alerttype: 'danger'\n            });\n          }\n        } else {\n          this.setShow(true);\n          this.setState({\n            alerttitle: 'Form Error!',\n            alertcontent: 'Please fill the email box',\n            alerttype: 'danger'\n          });\n        }\n      } else {\n        this.setShow(true);\n        this.setState({\n          alerttitle: 'Form Error!',\n          alertcontent: 'Please fill the last name box',\n          alerttype: 'danger'\n        });\n      }\n    } else {\n      this.setShow(true);\n      this.setState({\n        alerttitle: 'Form Error!',\n        alertcontent: 'Please fill the first name box',\n        alerttype: 'danger'\n      });\n    }\n  }\n\n  render() {\n    if (!this.state.hasToken) {\n      window.location = `/login`;\n    }\n\n    const {\n      togglealert,\n      alertcontent,\n      alerttype,\n      alerttitle\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"body\",\n      children: [/*#__PURE__*/_jsxDEV(Sidebar, {\n        leftsidebar: this.state.isleftsidebar,\n        closeLeftSidebar: () => this.toggleLeftSidebar()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content\",\n        children: [/*#__PURE__*/_jsxDEV(Header, {\n          openLeftSidebar: () => this.toggleLeftSidebar()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 17\n        }, this), this.state.togglealert ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loginalert\",\n          children: /*#__PURE__*/_jsxDEV(AlertComponent, {\n            title: alerttitle,\n            showalert: togglealert,\n            content: alertcontent,\n            type: alerttype,\n            closealert: () => this.setShow(false)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 23\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 19\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 27\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"page_container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"user_form_wrapper\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"login_title\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Sign Up\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form_group_lg form_group_input\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"firstname\",\n                placeholder: \"First Name\",\n                value: this.state.firstname,\n                onChange: this.handleInput.bind(this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 24\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form_group_lg form_group_input\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"lastname\",\n                placeholder: \"Last Name\",\n                value: this.state.lastname,\n                onChange: this.handleInput.bind(this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form_group_lg form_group_input\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"email\",\n                placeholder: \"Email\",\n                value: this.state.email,\n                onChange: this.handleInput.bind(this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form_group_sm_l form_group_input\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: this.state.pass1 ? 'password' : 'text',\n                name: \"password1\",\n                placeholder: \"Password\",\n                value: this.state.password1,\n                onChange: this.handleInput.bind(this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n                children: [this.state.pass1 ? /*#__PURE__*/_jsxDEV(FaEye, {\n                  onClick: () => this.togglePassword1()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 240,\n                  columnNumber: 54\n                }, this) : /*#__PURE__*/_jsxDEV(FaEyeSlash, {\n                  onClick: () => this.togglePassword1()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 240,\n                  columnNumber: 105\n                }, this), \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form_group_sm_r form_group_input\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                name: \"password2\",\n                type: this.state.pass2 ? 'password' : 'text',\n                placeholder: \"Confirm Password\",\n                value: this.state.password2,\n                onChange: this.handleInput.bind(this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n                children: [this.state.pass2 ? /*#__PURE__*/_jsxDEV(FaEye, {\n                  onClick: () => this.togglePassword2()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 249,\n                  columnNumber: 54\n                }, this) : /*#__PURE__*/_jsxDEV(FaEyeSlash, {\n                  onClick: () => this.togglePassword2()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 249,\n                  columnNumber: 105\n                }, this), \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"primaryButton form_group_lg reg_submit_btn\",\n              onClick: () => this.submitRegistration(),\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Sign Up\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 32\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"login_footer\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Already have an account?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  className: \"secondaryColor\",\n                  to: '/login',\n                  children: \"Login\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 257,\n                  columnNumber: 35\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 22\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 13\n    }, this);\n  }\n\n  toggleLeftSidebar() {\n    let isrightsidebar = this.state.isrightside;\n\n    if (isrightsidebar == 'mobile_display') {\n      this.setState({\n        isrightside: 'desktop_display'\n      });\n    }\n\n    let isleftsidebar = this.state.isleftsidebar;\n\n    if (isleftsidebar == 'desktop_display') {\n      this.setState({\n        isleftsidebar: 'mobile_display'\n      });\n    } else {\n      this.setState({\n        isleftsidebar: 'desktop_display'\n      });\n    }\n  }\n\n}\n\nexport default UserIndex;","map":{"version":3,"sources":["/Users/developertunde/iitatv/src/videos/Register.jsx"],"names":["React","Component","useState","BrowserRouter","Router","Switch","Route","Link","Sidebar","FaShare","FaEye","FaEyeSlash","Thumbnaila","uid","suid","Alert","AlertComponent","Header","UserIndex","constructor","state","pass1","pass2","token","firstname","lastname","email","password1","password2","hasToken","togglealert","alerttitle","alertcontent","alerttype","isleftsidebar","setShow","e","alertstate","setState","handleInput","event","target","value","name","togglePassword1","togglePassword2","saveItem","item","data","localStorage","setItem","error","console","log","submitRegistration","validemail","match","alert","fetch","method","headers","Accept","body","JSON","stringify","fname","lname","password","then","response","json","responseJSON","responsestatus","responsemessage","catch","render","window","location","toggleLeftSidebar","bind","isrightsidebar","isrightside"],"mappings":"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","sourcesContent":["import React, { Component, useState } from 'react';\n\nimport { BrowserRouter, Router, Switch, Route, Link } from \"react-router-dom\";\nimport Sidebar from '../components/Sidebar';\nimport '../assets/css/videos.css'\nimport '../assets/css/styles.css'\nimport '../assets/css/user.css'\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { FaShare, FaEye, FaEyeSlash } from 'react-icons/fa'\nimport Thumbnaila from '../assets/images/thumbnaila.png'\nimport { uid, suid } from 'rand-token';\nimport Alert from 'react-bootstrap/Alert'\nimport AlertComponent from '../reuseables/Alert'\nimport Header from '../components/LoginHeader';\n\n\n\n\nclass UserIndex extends Component {\n    constructor() {\n        super();\n        this.state = {\n            pass1: true,\n            pass2: true,\n            token: true,\n            firstname: '',\n            lastname: '',\n            email: '',\n            password1: '',\n            password2: '',\n            hasToken: true,\n            togglealert:false,\n            alerttitle:'', alertcontent:'', alerttype:'',\n            isleftsidebar:'desktop_display'\n        }\n    }\n\n    setShow(e){\n        let alertstate = this.state.togglealert;\n         this.setState({\n             togglealert: e\n         })\n    }\n    handleInput(event) {\n        const target = event.target;\n        const value = target.value;\n        const name = target.name;\n        this.setState({\n          [name]: value\n        });\n      }\n\n    togglePassword1() {\n        (this.state.pass1) ? this.setState({ pass1: false }) : this.setState({ pass1: true })\n    }\n\n    togglePassword2() {\n        (this.state.pass2) ? this.setState({ pass2: false }) : this.setState({ pass2: true })\n    }\n\n\n    async saveItem(item, data) {\n        try {\n            await localStorage.setItem(item, data)\n        } catch (error) {\n            console.log(error);\n        }\n    }\n\n    submitRegistration() {\n\n        if (this.state.firstname != '') {\n            if(this.state.lastname != ''){\n                if(this.state.email != ''){\n                    let email = this.state.email;\n                    let validemail = email.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i);\n                    if (validemail) {\n                        if(this.state.password1 != ''){\n                            if (this.state.password1 != this.state.password2) {\n                                alert('The two passwords do not match');\n                            } else {\n                            \n                                const token = suid(20);\n                            \n                                this.saveItem('token', token);\n                                fetch('/videostreaming/rest/create_user.php', {\n                                    method: 'POST',\n                                    headers: {\n                                        Accept: 'application/json',\n                                        'Content-Type': 'application/json',\n                                        'Authorization': `token ${token}`\n                            \n                                    },\n                                    body: JSON.stringify({\n                            \n                                        fname: this.state.firstname,\n                                        lname: this.state.lastname,\n                                        email: this.state.email,\n                                        password: this.state.password1\n                            \n                                    })\n                                })\n                            \n                                    .then((response) => response.json())\n                                    .then((responseJSON) => {\n                            \n                                        console.log(responseJSON);\n                                       let responsestatus = responseJSON['status'];\n                                       let responsemessage = responseJSON['message'];\n    \n                                       this.setShow(true);\n                                       \n    \n                                       if (responsestatus === 1) {\n                                        this.saveItem('userReg', this.state.email);\n                                        this.setState({\n                                            hasToken: true\n                                        }) \n                                        this.setState({\n                                            alerttitle:'Success!', alertcontent:`${responsemessage}`, alerttype:'success'\n                                         })\n                                       }else{\n                                        this.setState({\n                                            alerttitle:'Sorry!', alertcontent:`${responsemessage}`, alerttype:'warning'\n                                         })\n                                       }\n                                       \n                                       \n                            \n                                    }).catch((error) => {\n                                       console.log(error);  \n                                      \n    \n                                    })\n                            }\n                        }else {\n                         this.setShow(true);\n                         this.setState({\n                             alerttitle:'Form Error!', alertcontent:'Please fill the password box', alerttype:'danger'\n                         })\n                     }\n                    }else{\n                        this.setShow(true);\n                         this.setState({\n                             alerttitle:'Form Error!', alertcontent:'Please use a valid email', alerttype:'danger'\n                         })\n                    }\n                \n                }else {\n                     this.setShow(true);\n                     this.setState({\n                        alerttitle:'Form Error!', alertcontent:'Please fill the email box', alerttype:'danger'\n                     })\n                 }\n            }else {\n                this.setShow(true);\n                this.setState({\n                    alerttitle:'Form Error!', alertcontent:'Please fill the last name box', alerttype:'danger'\n                })\n            }\n        } else {\n             this.setShow(true);\n             this.setState({\n                  alerttitle:'Form Error!', alertcontent:'Please fill the first name box', alerttype:'danger'\n             })\n        }\n\n    }\n\n\n\n    render() {\n        if (!this.state.hasToken) {\n            window.location = `/login`\n\n        }\n        const {togglealert, alertcontent, alerttype, alerttitle} = this.state;\n        return (\n            <div className=\"body\">\n                <Sidebar leftsidebar={this.state.isleftsidebar}  closeLeftSidebar={() => this.toggleLeftSidebar()}/>\n                <div className=\"content\">\n                <Header openLeftSidebar={() => this.toggleLeftSidebar()} />\n                {(this.state.togglealert) ? \n                  <div className=\"loginalert\">\n                      <AlertComponent \n                      title={alerttitle}\n                      showalert={togglealert} \n                      content={alertcontent} \n                      type={alerttype}\n                      closealert={() => this.setShow(false)}/> \n                  </div>: <div></div>}\n                <div className=\"page_container\">\n                     <div className=\"user_form_wrapper\">\n                      <div className=\"login_title\">\n                            <span>Sign Up</span>\n                        </div>\n                       <div className=\"form_group_lg form_group_input\">\n                            <input type=\"text\" \n                              name=\"firstname\"\n                              placeholder=\"First Name\" \n                              value={this.state.firstname} \n                              onChange={this.handleInput.bind(this)}/>\n                        </div>\n                        <div className=\"form_group_lg form_group_input\">\n                            <input type=\"text\" \n                               name=\"lastname\"\n                               placeholder=\"Last Name\"  \n                               value={this.state.lastname} \n                               onChange={this.handleInput.bind(this)}/>\n                        </div>\n\n                        <div className=\"form_group_lg form_group_input\">\n                            <input type=\"text\" \n                                name=\"email\"\n                                placeholder=\"Email\" \n                                value={this.state.email} \n                                onChange={this.handleInput.bind(this)}/>\n                        </div>\n\n                        {/* <div className=\"form_group_lg form_group_input\">\n                            <select\n                             name=\"country\"\n                             onChange={this.handleInput.bind(this)}\n                             value={this.state.country}\n                             >\n                                <option value=\"nil\">Select Country</option>\n                                <option value=\"Nigeria\">Nigeria</option>\n                                <option value=\"Cameroon\">Cameroon</option>\n                            </select>\n                        </div> */}\n                        \n                        <div className=\"form_group_sm_l form_group_input\">\n                            <input  \n                                type={(this.state.pass1) ? 'password' : 'text'} \n                                name=\"password1\"\n                                placeholder=\"Password\" \n                                value={this.state.password1} \n                                onChange={this.handleInput.bind(this)}/>\n                            <i>{(this.state.pass1) ? <FaEye onClick={() => this.togglePassword1()} /> : <FaEyeSlash onClick={() => this.togglePassword1()} />} </i>\n                        </div>\n                        <div className=\"form_group_sm_r form_group_input\">\n                            <input\n                                name=\"password2\"\n                                type={(this.state.pass2) ? 'password' : 'text'} \n                                placeholder=\"Confirm Password\" \n                                value={this.state.password2} \n                                onChange={this.handleInput.bind(this)}/>\n                            <i>{(this.state.pass2) ? <FaEye onClick={() => this.togglePassword2()} /> : <FaEyeSlash onClick={() => this.togglePassword2()} />} </i>\n                        </div>\n                        <div className=\"primaryButton form_group_lg reg_submit_btn\" onClick={() => this.submitRegistration()}>\n                               <span>Sign Up</span>\n                        </div>\n\n                        <div className=\"login_footer\">\n                            <span>Already have an account?</span>\n                            <span><Link className=\"secondaryColor\" to={'/login'}>Login</Link></span>\n                        </div>\n                     </div>\n                </div>\n                </div>\n            </div>\n        );\n    }\n    toggleLeftSidebar(){\n\n        let isrightsidebar = this.state.isrightside;\n        if (isrightsidebar == 'mobile_display') {\n            this.setState({\n                isrightside:'desktop_display'\n            })\n        }\n\n        let isleftsidebar = this.state.isleftsidebar;\n        if (isleftsidebar == 'desktop_display') {\n            this.setState({\n                isleftsidebar:'mobile_display'\n            })\n        }else{\n            this.setState({\n                isleftsidebar:'desktop_display'\n            })\n        }\n    }\n}\n\nexport default UserIndex;\n"]},"metadata":{},"sourceType":"module"}