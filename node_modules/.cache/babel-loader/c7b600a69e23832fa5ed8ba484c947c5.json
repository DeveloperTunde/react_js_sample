{"ast":null,"code":"var _jsxFileName = \"/Users/developertunde/iitatv/src/dashboard/Index.jsx\";\nimport React, { Component, useState } from 'react';\nimport { BrowserRouter, Router, Switch, Route, Link } from \"react-router-dom\";\nimport Header from '../components/Header';\nimport Sidebar from '../components/Sidebar';\nimport '../assets/css/videos.css';\nimport '../assets/css/styles.css';\nimport '../assets/css/user.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { FaEye, FaSquare, FaShareAlt } from 'react-icons/fa';\nimport Thumbnailbg from './../assets/images/bgthumbnail.png';\nimport User from './../assets/images/user.png';\nimport IndexTabs from './components/IndexTabs';\nimport UploadVideoForm from './components/UploadVideoForm';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass UserIndex extends Component {\n  constructor(props) {\n    super(props);\n\n    this.setShow = e => {\n      this.setState({\n        showmodal: e\n      });\n    };\n\n    this.showEdit = e => {\n      this.setState({\n        showedit: e\n      });\n    };\n\n    this.setShow2 = e => {\n      this.setState({\n        showmodal2: e,\n        showmodal: false\n      });\n    };\n\n    this.checkLogin = async () => {\n      let useremail = await sessionStorage.getItem('userReg');\n      fetch('/videostreaming/verifylogin.php', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          useremail: useremail\n        })\n      }).then(response => response.json()).then(responseJSON => {\n        if (responseJSON['output'][0]['success'] == 'true') {\n          this.setState({\n            isLoggedin: true\n          });\n        } else {\n          window.location = '../login';\n        }\n\n        console.log(responseJSON);\n      }).catch(error => {// console.log(error);\n      });\n    };\n\n    this.state = {\n      showmodal: false,\n      showedit: false,\n      showmodal2: false,\n      isLoggedin: false,\n      useremail: '',\n      myvideos: [],\n      allsub: 0,\n      user: [],\n      isrightside: 'desktop_display',\n      isleftsidebar: 'desktop_display'\n    };\n  }\n\n  getUser() {\n    let email = sessionStorage.getItem('userReg');\n    this.setState({\n      useremail: email\n    });\n  }\n\n  componentDidMount() {\n    this.checkLogin();\n    this.getUser();\n    this.fetchMyVideos();\n    this.fetchThisUser();\n  }\n\n  render() {\n    const {\n      user\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"body\",\n      style: {\n        backgroundColor: 'red',\n        height: '200vh'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Sidebar, {\n        leftsidebar: this.state.isleftsidebar,\n        closeLeftSidebar: () => this.toggleLeftSidebar()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content\",\n        children: [/*#__PURE__*/_jsxDEV(Header, {\n          openLeftSidebar: () => this.toggleLeftSidebar()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"page_container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"user_wrapper\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"user_account_top\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"user_account_top_left\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"user_account_top_left_a\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: user.profilepic,\n                    alt: \"Profile Picture\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 111,\n                    columnNumber: 33\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 110,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"user_account_top_left_b\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [user.userfirstname, \" \", user.userlastname]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 114,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [this.state.allsub, \" Subscribers\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 115,\n                    columnNumber: 33\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 113,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"user_account_top_right\",\n                children: this.state.isLoggedin && this.state.user.usertype == 'SemiAdmin' ? /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"primaryButton\",\n                  onClick: () => this.setShow(true),\n                  children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                    style: {\n                      marginRight: '8px'\n                    },\n                    children: \"+\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 120,\n                    columnNumber: 97\n                  }, this), \" Upload Video\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 120,\n                  columnNumber: 30\n                }, this) : /*#__PURE__*/_jsxDEV(\"b\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 122,\n                  columnNumber: 30\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"user_account_bottom\",\n              children: /*#__PURE__*/_jsxDEV(IndexTabs, {\n                opentab: this.props.match.params.id,\n                showedit: () => this.showEdit(true)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(UploadVideoForm, {\n              openModal: this.state.showmodal,\n              closeModal: () => this.setShow(false),\n              openModal2: this.state.showmodal2,\n              opensecondModal: () => this.setShow2(true),\n              closeModal2: () => this.setShow2(false)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }, this);\n  }\n\n  fetchThisUser() {\n    let useremail = sessionStorage.getItem('userReg');\n    fetch('/videostreaming/user.php', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        useremail: useremail\n      })\n    }).then(response => response.json()).then(responseJSON => {\n      this.setState({\n        user: responseJSON['output'][0]['user'][0],\n        allsub: responseJSON['output'][0]['allsubscription']\n      });\n      console.log(responseJSON['output'][0]); //console.log( this.state.useremail);\n    }).catch(error => {//console.log(error);\n    });\n  }\n\n  fetchMyVideos() {\n    let useremail = sessionStorage.getItem('userReg');\n    fetch('/videostreaming/myvideos.php', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        user: useremail\n      })\n    }).then(response => response.json()).then(responseJSON => {\n      this.setState({\n        isLoaded: true,\n        myvideos: responseJSON\n      }); // console.log(responseJSON['output']);\n      //console.log( this.state.useremail);\n    }).catch(error => {//console.log(error);\n    });\n  }\n\n  toggleLeftSidebar() {\n    let isrightsidebar = this.state.isrightside;\n\n    if (isrightsidebar == 'mobile_display') {\n      this.setState({\n        isrightside: 'desktop_display'\n      });\n    }\n\n    let isleftsidebar = this.state.isleftsidebar;\n\n    if (isleftsidebar == 'desktop_display') {\n      this.setState({\n        isleftsidebar: 'mobile_display'\n      });\n    } else {\n      this.setState({\n        isleftsidebar: 'desktop_display'\n      });\n    }\n  }\n\n}\n\nexport default UserIndex;","map":{"version":3,"sources":["/Users/developertunde/iitatv/src/dashboard/Index.jsx"],"names":["React","Component","useState","BrowserRouter","Router","Switch","Route","Link","Header","Sidebar","FaEye","FaSquare","FaShareAlt","Thumbnailbg","User","IndexTabs","UploadVideoForm","UserIndex","constructor","props","setShow","e","setState","showmodal","showEdit","showedit","setShow2","showmodal2","checkLogin","useremail","sessionStorage","getItem","fetch","method","headers","body","JSON","stringify","then","response","json","responseJSON","isLoggedin","window","location","console","log","catch","error","state","myvideos","allsub","user","isrightside","isleftsidebar","getUser","email","componentDidMount","fetchMyVideos","fetchThisUser","render","backgroundColor","height","toggleLeftSidebar","profilepic","userfirstname","userlastname","usertype","marginRight","match","params","id","isLoaded","isrightsidebar"],"mappings":"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","sourcesContent":["import React, { Component, useState } from 'react';\n\nimport { BrowserRouter, Router, Switch, Route, Link } from \"react-router-dom\";\nimport Header from '../components/Header';\nimport Sidebar from '../components/Sidebar';\nimport '../assets/css/videos.css'\nimport '../assets/css/styles.css'\nimport '../assets/css/user.css'\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { FaEye, FaSquare,FaShareAlt } from 'react-icons/fa'\nimport Thumbnailbg from './../assets/images/bgthumbnail.png'\nimport User from './../assets/images/user.png'\nimport IndexTabs from './components/IndexTabs'\nimport UploadVideoForm from './components/UploadVideoForm'\n\n\n\n\nclass UserIndex extends Component {\n   \n     constructor(props){\n        super(props);\n        this.state={\n            showmodal: false,\n            showedit: false,\n            showmodal2: false,\n            isLoggedin: false,\n            useremail: '',\n            myvideos:[],\n            allsub:0,\n            user:[],\n            isrightside:'desktop_display',\n            isleftsidebar:'desktop_display'\n        }\n     }\n\n\n  setShow = (e) =>{\n    this.setState({\n        showmodal:e\n    })\n  }\n\n  showEdit = (e) =>{\n    this.setState({\n        showedit:e\n    })\n  }\n\n  setShow2 = (e) =>{\n    this.setState({\n        showmodal2:e,\n        showmodal:false\n    })\n  }\n\n  checkLogin = async () =>{\n    let useremail = await sessionStorage.getItem('userReg');\n    fetch('/videostreaming/verifylogin.php', {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          useremail: useremail,\n      })\n    })\n        .then((response) => response.json())\n        .then((responseJSON) => {\n            if (responseJSON['output'][0]['success'] == 'true') {\n                this.setState({\n                    isLoggedin:true\n                })\n            }else{\n                window.location ='../login'\n              }\n         console.log(responseJSON);\n        }).catch((error) =>{\n           // console.log(error);\n        })\n\n         \n      \n  }\n  getUser(){\n      let email =sessionStorage.getItem('userReg');\n    this.setState({\n        useremail: email\n    })\n  }\n\n  componentDidMount(){\n      this.checkLogin();\n      this.getUser();\n      this.fetchMyVideos();\n      this.fetchThisUser();\n  }\n    render() {\n       const {user}  = this.state;\n        return (\n            <div className=\"body\" style={{backgroundColor:'red', height:'200vh'}}>\n                <Sidebar leftsidebar={this.state.isleftsidebar}  closeLeftSidebar={() => this.toggleLeftSidebar()}/>\n                <div className=\"content\" >\n                <Header openLeftSidebar={() => this.toggleLeftSidebar()} />\n                <div className=\"page_container\" >\n                  <div className=\"user_wrapper\" >\n                    <div className=\"user_account_top\">\n                        <div className=\"user_account_top_left\">\n                            <div className=\"user_account_top_left_a\">\n                                <img src={user.profilepic} alt=\"Profile Picture\" />\n                            </div>\n                            <div className=\"user_account_top_left_b\">\n                                <span>{user.userfirstname} {user.userlastname}</span>\n                                <span>{this.state.allsub} Subscribers</span>\n                            </div>\n                        </div>\n                        <div className=\"user_account_top_right\">\n                           {(this.state.isLoggedin && this.state.user.usertype == 'SemiAdmin')?\n                             <span className=\"primaryButton\" onClick={() => this.setShow(true)}><b style={{marginRight:'8px'}}>+</b> Upload Video</span>\n                             :\n                             <b></b>\n                           }\n                        </div>\n                    </div>\n                    <div className=\"user_account_bottom\">\n                        <IndexTabs opentab={this.props.match.params.id} showedit={() => this.showEdit(true)} />\n                    </div>\n                  </div>\n\n                  <div>\n                    <UploadVideoForm\n                     openModal={this.state.showmodal}\n                     closeModal={() => this.setShow(false)}\n                     openModal2={this.state.showmodal2}\n                     opensecondModal={() => this.setShow2(true)}\n                     closeModal2={() => this.setShow2(false)}\n                     />\n                  </div>\n                </div>\n                </div>\n            </div>\n        );\n    }\n\n\n\n    fetchThisUser(){\n       \n        let useremail = sessionStorage.getItem('userReg');\n       fetch('/videostreaming/user.php', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                useremail: useremail,\n\n            })\n        })\n\n            .then((response) => response.json())\n            .then((responseJSON) => {\n                this.setState({\n                    user: responseJSON['output'][0]['user'][0],\n                    allsub : responseJSON['output'][0]['allsubscription']\n                })\n                console.log(responseJSON['output'][0]);\n               \n                //console.log( this.state.useremail);\n            }).catch((error) =>{\n                //console.log(error);\n            })\n\n       \n    }\n\n\n    fetchMyVideos(){\n       \n        let useremail = sessionStorage.getItem('userReg');\n       fetch('/videostreaming/myvideos.php', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                user: useremail,\n\n            })\n        })\n\n            .then((response) => response.json())\n            .then((responseJSON) => {\n                this.setState({\n                    isLoaded: true,\n                    myvideos: responseJSON,\n                })\n               // console.log(responseJSON['output']);\n                //console.log( this.state.useremail);\n            }).catch((error) =>{\n                //console.log(error);\n            })\n\n       \n    }\n\n    toggleLeftSidebar(){\n\n        let isrightsidebar = this.state.isrightside;\n        if (isrightsidebar == 'mobile_display') {\n            this.setState({\n                isrightside:'desktop_display'\n            })\n        }\n\n        let isleftsidebar = this.state.isleftsidebar;\n        if (isleftsidebar == 'desktop_display') {\n            this.setState({\n                isleftsidebar:'mobile_display'\n            })\n        }else{\n            this.setState({\n                isleftsidebar:'desktop_display'\n            })\n        }\n    }\n\n}\n       \n\n\nexport default UserIndex;\n\n\n\n"]},"metadata":{},"sourceType":"module"}