{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _contextTypes = require('./context-types');\n\nvar _contextTypes2 = _interopRequireDefault(_contextTypes);\n\nvar _requestFullscreen = require('./utils/request-fullscreen');\n\nvar _requestFullscreen2 = _interopRequireDefault(_requestFullscreen);\n\nvar _exitFullscreen = require('./utils/exit-fullscreen');\n\nvar _exitFullscreen2 = _interopRequireDefault(_exitFullscreen);\n\nvar _fullscreenChange = require('./utils/fullscreen-change');\n\nvar _fullscreenChange2 = _interopRequireDefault(_fullscreenChange);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar MEDIA_EVENTS = {\n  onPlay: 'isPlaying',\n  onPause: 'isPlaying',\n  onDuration: 'duration',\n  onProgress: 'progress',\n  onTimeUpdate: 'currentTime',\n  onMute: 'isMuted',\n  onVolumeChange: 'volume',\n  onError: null\n};\nvar MEDIA_EVENTS_KEYS = Object.keys(MEDIA_EVENTS);\n\nvar Media = function (_Component) {\n  _inherits(Media, _Component);\n\n  function Media() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Media);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Media.__proto__ || Object.getPrototypeOf(Media)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      currentTime: 0,\n      progress: 0,\n      duration: 0.1,\n      volume: 1,\n      isLoading: true,\n      isPlaying: false,\n      isMuted: false,\n      isFullscreen: false\n    }, _this._isMounted = false, _this._playerProps = {}, _this._lastVolume = 0, _this._setPlayer = function (component) {\n      _this._player = component;\n    }, _this._setPlayerProps = function (props) {\n      _this._playerProps = props;\n    }, _this._setPlayerState = function (state) {\n      _this.setState(state);\n    }, _this.play = function () {\n      return _this._player.play();\n    }, _this.pause = function () {\n      _this._player.pause();\n    }, _this.playPause = function () {\n      if (!_this.state.isPlaying) {\n        return _this.play();\n      } else {\n        _this.pause();\n      }\n    }, _this.stop = function () {\n      _this._player.stop();\n    }, _this.seekTo = function (currentTime) {\n      _this._player.seekTo(currentTime);\n\n      _this.setState({\n        currentTime: currentTime\n      });\n    }, _this.skipTime = function (amount) {\n      var _this$state = _this.state,\n          currentTime = _this$state.currentTime,\n          duration = _this$state.duration;\n      var newTime = currentTime + amount;\n\n      if (newTime < 0) {\n        newTime = 0;\n      } else if (newTime > duration) {\n        newTime = duration;\n      }\n\n      _this.seekTo(newTime);\n    }, _this.mute = function (isMuted) {\n      if (isMuted) {\n        _this._lastVolume = _this.state.volume;\n\n        _this._player.setVolume(0);\n      } else {\n        var volume = _this._lastVolume > 0 ? _this._lastVolume : 0.1;\n\n        _this._player.setVolume(volume);\n      }\n\n      _this._player.mute(isMuted);\n    }, _this.muteUnmute = function () {\n      _this.mute(!_this.state.isMuted);\n    }, _this.setVolume = function (volume) {\n      var isMuted = volume <= 0;\n\n      if (isMuted !== _this.state.isMuted) {\n        _this.mute(isMuted);\n      } else {\n        _this._lastVolume = volume;\n      }\n\n      _this._player.setVolume(volume);\n    }, _this.addVolume = function (amount) {\n      var newVolume = _this.state.volume + amount * 0.01;\n\n      if (newVolume < 0) {\n        newVolume = 0;\n      } else if (newVolume > 1) {\n        newVolume = 1;\n      }\n\n      _this.setVolume(newVolume);\n    }, _this.fullscreen = function () {\n      if (!_this.state.isFullscreen) {\n        _this._player.node[_requestFullscreen2.default]();\n      } else {\n        document[_exitFullscreen2.default]();\n      }\n    }, _this._handleFullscreenChange = function (_ref2) {\n      var target = _ref2.target;\n\n      if (target === _this._player.node) {\n        _this.setState({\n          isFullscreen: !_this.state.isFullscreen\n        });\n      }\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(Media, [{\n    key: 'getChildContext',\n    value: function getChildContext() {\n      return {\n        media: this._getPublicMediaProps(),\n        _mediaSetters: {\n          setPlayer: this._setPlayer,\n          setPlayerProps: this._setPlayerProps,\n          setPlayerState: this._setPlayerState\n        },\n        _mediaGetters: {\n          getPlayerEvents: this._getPlayerEvents()\n        }\n      };\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this._isMounted = true;\n      (0, _fullscreenChange2.default)('add', this._handleFullscreenChange);\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this._isMounted = false;\n      (0, _fullscreenChange2.default)('remove', this._handleFullscreenChange);\n    }\n  }, {\n    key: '_getPublicMediaProps',\n    value: function _getPublicMediaProps() {\n      return _extends({}, this.state, {\n        play: this.play,\n        pause: this.pause,\n        playPause: this.playPause,\n        stop: this.stop,\n        seekTo: this.seekTo,\n        skipTime: this.skipTime,\n        mute: this.mute,\n        muteUnmute: this.muteUnmute,\n        setVolume: this.setVolume,\n        addVolume: this.addVolume,\n        fullscreen: this.fullscreen\n      });\n    }\n  }, {\n    key: '_getPlayerEvents',\n    value: function _getPlayerEvents() {\n      var _this2 = this;\n\n      var events = {};\n      MEDIA_EVENTS_KEYS.forEach(function (key) {\n        var stateKey = MEDIA_EVENTS[key];\n\n        var handlePropCallback = function handlePropCallback() {\n          var propCallback = _this2._playerProps[key];\n\n          if (typeof propCallback === 'function') {\n            propCallback(_this2.state);\n          }\n        };\n\n        events[key] = function (val) {\n          if (stateKey) {\n            if (_this2._isMounted) {\n              _this2.setState(_defineProperty({}, stateKey, val), handlePropCallback);\n            }\n          } else {\n            handlePropCallback();\n          }\n        };\n      });\n      return events;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var children = this.props.children;\n\n      if (typeof children === 'function') {\n        return children(this._getPublicMediaProps());\n      }\n\n      return _react.Children.only(children);\n    }\n  }]);\n\n  return Media;\n}(_react.Component);\n\nMedia.propTypes = {\n  children: _propTypes2.default.oneOfType([_propTypes2.default.func, _propTypes2.default.node]).isRequired\n};\nMedia.childContextTypes = _contextTypes2.default;\nexports.default = Media;\nmodule.exports = exports['default'];","map":{"version":3,"sources":["/Users/developertunde/iitatv/node_modules/react-media-player-with-playback-speed/lib/Media.js"],"names":["Object","defineProperty","exports","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_react","require","_react2","_interopRequireDefault","_propTypes","_propTypes2","_reactDom","_reactDom2","_contextTypes","_contextTypes2","_requestFullscreen","_requestFullscreen2","_exitFullscreen","_exitFullscreen2","_fullscreenChange","_fullscreenChange2","obj","__esModule","default","_defineProperty","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","MEDIA_EVENTS","onPlay","onPause","onDuration","onProgress","onTimeUpdate","onMute","onVolumeChange","onError","MEDIA_EVENTS_KEYS","keys","Media","_Component","_ref","_temp","_this","_ret","_len","args","Array","_key","getPrototypeOf","apply","concat","state","currentTime","progress","duration","volume","isLoading","isPlaying","isMuted","isFullscreen","_isMounted","_playerProps","_lastVolume","_setPlayer","component","_player","_setPlayerProps","_setPlayerState","setState","play","pause","playPause","stop","seekTo","skipTime","amount","_this$state","newTime","mute","setVolume","muteUnmute","addVolume","newVolume","fullscreen","node","document","_handleFullscreenChange","_ref2","getChildContext","media","_getPublicMediaProps","_mediaSetters","setPlayer","setPlayerProps","setPlayerState","_mediaGetters","getPlayerEvents","_getPlayerEvents","componentDidMount","componentWillUnmount","_this2","events","forEach","stateKey","handlePropCallback","propCallback","val","render","children","Children","only","Component","propTypes","oneOfType","func","isRequired","childContextTypes","module"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _contextTypes = require('./context-types');\n\nvar _contextTypes2 = _interopRequireDefault(_contextTypes);\n\nvar _requestFullscreen = require('./utils/request-fullscreen');\n\nvar _requestFullscreen2 = _interopRequireDefault(_requestFullscreen);\n\nvar _exitFullscreen = require('./utils/exit-fullscreen');\n\nvar _exitFullscreen2 = _interopRequireDefault(_exitFullscreen);\n\nvar _fullscreenChange = require('./utils/fullscreen-change');\n\nvar _fullscreenChange2 = _interopRequireDefault(_fullscreenChange);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar MEDIA_EVENTS = {\n  onPlay: 'isPlaying',\n  onPause: 'isPlaying',\n  onDuration: 'duration',\n  onProgress: 'progress',\n  onTimeUpdate: 'currentTime',\n  onMute: 'isMuted',\n  onVolumeChange: 'volume',\n  onError: null\n};\nvar MEDIA_EVENTS_KEYS = Object.keys(MEDIA_EVENTS);\n\nvar Media = function (_Component) {\n  _inherits(Media, _Component);\n\n  function Media() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Media);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Media.__proto__ || Object.getPrototypeOf(Media)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      currentTime: 0,\n      progress: 0,\n      duration: 0.1,\n      volume: 1,\n      isLoading: true,\n      isPlaying: false,\n      isMuted: false,\n      isFullscreen: false\n    }, _this._isMounted = false, _this._playerProps = {}, _this._lastVolume = 0, _this._setPlayer = function (component) {\n      _this._player = component;\n    }, _this._setPlayerProps = function (props) {\n      _this._playerProps = props;\n    }, _this._setPlayerState = function (state) {\n      _this.setState(state);\n    }, _this.play = function () {\n      return _this._player.play();\n    }, _this.pause = function () {\n      _this._player.pause();\n    }, _this.playPause = function () {\n      if (!_this.state.isPlaying) {\n        return _this.play();\n      } else {\n        _this.pause();\n      }\n    }, _this.stop = function () {\n      _this._player.stop();\n    }, _this.seekTo = function (currentTime) {\n      _this._player.seekTo(currentTime);\n      _this.setState({ currentTime: currentTime });\n    }, _this.skipTime = function (amount) {\n      var _this$state = _this.state,\n          currentTime = _this$state.currentTime,\n          duration = _this$state.duration;\n\n      var newTime = currentTime + amount;\n      if (newTime < 0) {\n        newTime = 0;\n      } else if (newTime > duration) {\n        newTime = duration;\n      }\n      _this.seekTo(newTime);\n    }, _this.mute = function (isMuted) {\n      if (isMuted) {\n        _this._lastVolume = _this.state.volume;\n        _this._player.setVolume(0);\n      } else {\n        var volume = _this._lastVolume > 0 ? _this._lastVolume : 0.1;\n        _this._player.setVolume(volume);\n      }\n      _this._player.mute(isMuted);\n    }, _this.muteUnmute = function () {\n      _this.mute(!_this.state.isMuted);\n    }, _this.setVolume = function (volume) {\n      var isMuted = volume <= 0;\n      if (isMuted !== _this.state.isMuted) {\n        _this.mute(isMuted);\n      } else {\n        _this._lastVolume = volume;\n      }\n      _this._player.setVolume(volume);\n    }, _this.addVolume = function (amount) {\n      var newVolume = _this.state.volume + amount * 0.01;\n      if (newVolume < 0) {\n        newVolume = 0;\n      } else if (newVolume > 1) {\n        newVolume = 1;\n      }\n      _this.setVolume(newVolume);\n    }, _this.fullscreen = function () {\n      if (!_this.state.isFullscreen) {\n        _this._player.node[_requestFullscreen2.default]();\n      } else {\n        document[_exitFullscreen2.default]();\n      }\n    }, _this._handleFullscreenChange = function (_ref2) {\n      var target = _ref2.target;\n\n      if (target === _this._player.node) {\n        _this.setState({ isFullscreen: !_this.state.isFullscreen });\n      }\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(Media, [{\n    key: 'getChildContext',\n    value: function getChildContext() {\n      return {\n        media: this._getPublicMediaProps(),\n        _mediaSetters: {\n          setPlayer: this._setPlayer,\n          setPlayerProps: this._setPlayerProps,\n          setPlayerState: this._setPlayerState\n        },\n        _mediaGetters: {\n          getPlayerEvents: this._getPlayerEvents()\n        }\n      };\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this._isMounted = true;\n      (0, _fullscreenChange2.default)('add', this._handleFullscreenChange);\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this._isMounted = false;\n      (0, _fullscreenChange2.default)('remove', this._handleFullscreenChange);\n    }\n  }, {\n    key: '_getPublicMediaProps',\n    value: function _getPublicMediaProps() {\n      return _extends({}, this.state, {\n        play: this.play,\n        pause: this.pause,\n        playPause: this.playPause,\n        stop: this.stop,\n        seekTo: this.seekTo,\n        skipTime: this.skipTime,\n        mute: this.mute,\n        muteUnmute: this.muteUnmute,\n        setVolume: this.setVolume,\n        addVolume: this.addVolume,\n        fullscreen: this.fullscreen\n      });\n    }\n  }, {\n    key: '_getPlayerEvents',\n    value: function _getPlayerEvents() {\n      var _this2 = this;\n\n      var events = {};\n      MEDIA_EVENTS_KEYS.forEach(function (key) {\n        var stateKey = MEDIA_EVENTS[key];\n        var handlePropCallback = function handlePropCallback() {\n          var propCallback = _this2._playerProps[key];\n          if (typeof propCallback === 'function') {\n            propCallback(_this2.state);\n          }\n        };\n        events[key] = function (val) {\n          if (stateKey) {\n            if (_this2._isMounted) {\n              _this2.setState(_defineProperty({}, stateKey, val), handlePropCallback);\n            }\n          } else {\n            handlePropCallback();\n          }\n        };\n      });\n      return events;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var children = this.props.children;\n\n      if (typeof children === 'function') {\n        return children(this._getPublicMediaProps());\n      }\n      return _react.Children.only(children);\n    }\n  }]);\n\n  return Media;\n}(_react.Component);\n\nMedia.propTypes = {\n  children: _propTypes2.default.oneOfType([_propTypes2.default.func, _propTypes2.default.node]).isRequired\n};\nMedia.childContextTypes = _contextTypes2.default;\nexports.default = Media;\nmodule.exports = exports['default'];"]},"metadata":{},"sourceType":"script"}