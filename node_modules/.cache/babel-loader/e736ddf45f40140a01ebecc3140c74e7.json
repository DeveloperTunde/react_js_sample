{"ast":null,"code":"var _jsxFileName = \"/Users/developertunde/iitatv/src/videos/Login.jsx\";\nimport React, { Component, useState } from 'react';\nimport { BrowserRouter, Router, Switch, Route, Link } from \"react-router-dom\";\nimport Sidebar from '../components/Sidebar';\nimport '../assets/css/videos.css';\nimport '../assets/css/styles.css';\nimport '../assets/css/user.css';\nimport '../assets/css/header.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { FaShare, FaEye, FaEyeSlash } from 'react-icons/fa';\nimport Thumbnaila from '../assets/images/thumbnaila.png';\nimport { uid, suid } from 'rand-token';\nimport AlertComponent from '../reuseables/Alert';\nimport Header from '../components/LoginHeader';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass UserIndex extends Component {\n  constructor() {\n    super();\n    this.state = {\n      user: '',\n      password: '',\n      email: '',\n      pass: true,\n      togglealert: false,\n      alerttitle: '',\n      alertcontent: '',\n      alerttype: '',\n      isleftsidebar: 'desktop_display'\n    };\n  }\n\n  setShow(e) {\n    let alertstate = this.state.togglealert;\n    this.setState({\n      togglealert: e\n    });\n  }\n\n  handleInput(event) {\n    const target = event.target;\n    const value = target.value;\n    const name = target.name;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  togglePassword() {\n    let pass = this.state.pass;\n    this.setState({\n      pass: !pass\n    });\n  }\n\n  async saveItem(item, data) {\n    try {\n      await sessionStorage.setItem(item, data);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  loginUser() {\n    if (this.state.email != '') {\n      if (this.state.password1 != '') {\n        const token = suid(20);\n        this.saveItem('token', token);\n        fetch('/videostreaming/rest/login.php', {\n          method: 'POST',\n          headers: {\n            Accept: 'application/json',\n            'Content-Type': 'application/json',\n            'Authorization': `token ${token}`\n          },\n          body: JSON.stringify({\n            email: this.state.email,\n            password: this.state.password\n          })\n        }).then(response => response.json()).then(responseJSON => {\n          console.log(responseJSON);\n          let responsestatus = responseJSON['status'];\n          let responsemessage = responseJSON['message'];\n          this.setShow(true);\n\n          if (responsestatus === 1) {\n            this.saveItem('userReg', this.state.email);\n            this.setState({\n              hasToken: true\n            });\n            this.setState({\n              alerttitle: 'Success!',\n              alertcontent: `${responsemessage}`,\n              alerttype: 'success'\n            });\n            window.location = '/user/1';\n          } else {\n            this.setState({\n              alerttitle: 'Sorry!',\n              alertcontent: `${responsemessage}`,\n              alerttype: 'warning'\n            });\n          }\n        }).catch(error => {\n          console.log(error);\n        });\n      } else {\n        this.setShow(true);\n        this.setState({\n          alerttitle: 'Form Error!',\n          alertcontent: 'Please fill the password box',\n          alerttype: 'danger'\n        });\n      }\n    } else {\n      this.setShow(true);\n      this.setState({\n        alerttitle: 'Form Error!',\n        alertcontent: 'Please fill the email box',\n        alerttype: 'danger'\n      });\n    }\n  }\n\n  getUset() {\n    this.setState({\n      user: sessionStorage.getItem('userReg')\n    });\n  }\n\n  componentDidMount() {\n    this.getUset();\n  }\n\n  render() {\n    const {\n      togglealert,\n      alertcontent,\n      alerttype,\n      alerttitle\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"body\",\n      children: [/*#__PURE__*/_jsxDEV(Sidebar, {\n        leftsidebar: this.state.isleftsidebar,\n        closeLeftSidebar: () => this.toggleLeftSidebar()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content\",\n        children: [/*#__PURE__*/_jsxDEV(Header, {\n          openLeftSidebar: () => this.toggleLeftSidebar()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 17\n        }, this), this.state.togglealert ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loginalert\",\n          children: /*#__PURE__*/_jsxDEV(AlertComponent, {\n            title: alerttitle,\n            showalert: togglealert,\n            content: alertcontent,\n            type: alerttype,\n            closealert: () => this.setShow(false)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 23\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 19\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 28\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"page_container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"user_form_wrapper\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"login_title\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Login\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form_group_lg form_group_input\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"email\",\n                placeholder: \"Email\",\n                value: this.state.email,\n                onChange: this.handleInput.bind(this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form_group_lg form_group_input\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: this.state.pass ? 'password' : 'text',\n                name: \"password\",\n                placeholder: \"Password\",\n                value: this.state.password,\n                onChange: this.handleInput.bind(this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n                children: [this.state.pass ? /*#__PURE__*/_jsxDEV(FaEye, {\n                  onClick: () => this.togglePassword(true)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 53\n                }, this) : /*#__PURE__*/_jsxDEV(FaEyeSlash, {\n                  onClick: () => this.togglePassword(false)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 107\n                }, this), \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"primaryButton form_group_lg reg_submit_btn\",\n              onClick: () => this.loginUser(),\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Login\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 32\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"login_footer\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"login_footer_reglink\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Don\\u2019t have an account?\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 32\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: /*#__PURE__*/_jsxDEV(Link, {\n                    className: \"secondaryColor\",\n                    to: '/register',\n                    children: \"Register\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 187,\n                    columnNumber: 38\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 32\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"forgotpass\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: /*#__PURE__*/_jsxDEV(Link, {\n                    className: \"secondaryColor\",\n                    to: '/forgotpassword',\n                    children: \"Forgot Password?\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 190,\n                    columnNumber: 38\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 190,\n                  columnNumber: 32\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 22\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 13\n    }, this);\n  }\n\n  toggleLeftSidebar() {\n    let isrightsidebar = this.state.isrightside;\n\n    if (isrightsidebar == 'mobile_display') {\n      this.setState({\n        isrightside: 'desktop_display'\n      });\n    }\n\n    let isleftsidebar = this.state.isleftsidebar;\n\n    if (isleftsidebar == 'desktop_display') {\n      this.setState({\n        isleftsidebar: 'mobile_display'\n      });\n    } else {\n      this.setState({\n        isleftsidebar: 'desktop_display'\n      });\n    }\n  }\n\n}\n\nexport default UserIndex;","map":{"version":3,"sources":["/Users/developertunde/iitatv/src/videos/Login.jsx"],"names":["React","Component","useState","BrowserRouter","Router","Switch","Route","Link","Sidebar","FaShare","FaEye","FaEyeSlash","Thumbnaila","uid","suid","AlertComponent","Header","UserIndex","constructor","state","user","password","email","pass","togglealert","alerttitle","alertcontent","alerttype","isleftsidebar","setShow","e","alertstate","setState","handleInput","event","target","value","name","togglePassword","saveItem","item","data","sessionStorage","setItem","error","console","log","loginUser","password1","token","fetch","method","headers","Accept","body","JSON","stringify","then","response","json","responseJSON","responsestatus","responsemessage","hasToken","window","location","catch","getUset","getItem","componentDidMount","render","toggleLeftSidebar","bind","isrightsidebar","isrightside"],"mappings":"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","sourcesContent":["import React, { Component, useState } from 'react';\n\nimport { BrowserRouter, Router, Switch, Route, Link } from \"react-router-dom\";\nimport Sidebar from '../components/Sidebar';\nimport '../assets/css/videos.css'\nimport '../assets/css/styles.css'\nimport '../assets/css/user.css'\nimport '../assets/css/header.css'\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { FaShare, FaEye, FaEyeSlash } from 'react-icons/fa'\nimport Thumbnaila from '../assets/images/thumbnaila.png'\nimport { uid, suid } from 'rand-token';\nimport AlertComponent from '../reuseables/Alert'\nimport Header from '../components/LoginHeader';\n\n\n\n\nclass UserIndex extends Component {\n   \n     constructor(){\n        super();\n        this.state={\n            user: '',\n            password:'',\n            email:'',\n            pass:true,\n            togglealert:false,\n            alerttitle:'', alertcontent:'', alerttype:'',\n            isleftsidebar:'desktop_display'\n        }\n     }\n\n\nsetShow(e){\n let alertstate = this.state.togglealert;\n    this.setState({\n        togglealert: e\n    })\n}\nhandleInput(event) {\n const target = event.target;\n const value = target.value;\n const name = target.name;\n this.setState({\n      [name]: value\n });\n}\n        \ntogglePassword() {\n    let pass = this.state.pass;\n    this.setState({\n        pass: !pass\n    })\n}\n\nasync saveItem(item, data) {\n    try {\n        await sessionStorage.setItem(item, data)\n    } catch (error) {\n        console.log(error);\n    }\n}\n\nloginUser() {\n        if(this.state.email != ''){\n                if(this.state.password1 != ''){        \n                        const token = suid(20);\n                    \n                        this.saveItem('token', token);\n                        fetch('/videostreaming/rest/login.php', {\n                            method: 'POST',\n                            headers: {\n                                Accept: 'application/json',\n                                'Content-Type': 'application/json',\n                                'Authorization': `token ${token}`\n                    \n                            },\n                            body: JSON.stringify({\n                                email: this.state.email,\n                                password: this.state.password\n                    \n                            })\n                        })\n                    \n                            .then((response) => response.json())\n                            .then((responseJSON) => {\n                    \n                            console.log(responseJSON);\n                            let responsestatus = responseJSON['status'];\n                            let responsemessage = responseJSON['message'];\n\n                            this.setShow(true);\n                                   \n\n                            if (responsestatus === 1) {\n                            this.saveItem('userReg', this.state.email);\n                            this.setState({\n                                 hasToken: true\n                             }) \n                            this.setState({\n                                 alerttitle:'Success!', alertcontent:`${responsemessage}`, alerttype:'success'\n                             })\n                             window.location='/user/1'\n                            }else{\n                             this.setState({\n                                   alerttitle:'Sorry!', alertcontent:`${responsemessage}`, alerttype:'warning'\n                             })\n                             }\n                               \n                            }).catch((error) => {\n                               console.log(error);  \n                            \n                            })\n                    \n                }else {\n                 this.setShow(true);\n                 this.setState({\n                     alerttitle:'Form Error!', alertcontent:'Please fill the password box', alerttype:'danger'\n                 })\n             }\n            }else {\n                 this.setShow(true);\n                 this.setState({\n                    alerttitle:'Form Error!', alertcontent:'Please fill the email box', alerttype:'danger'\n                 })\n             }\n       \n\n}\n\ngetUset(){\n    this.setState({\n        user:sessionStorage.getItem('userReg')\n    })\n}\ncomponentDidMount(){\n  this.getUset();\n}\n\n    render() {\n        const {togglealert, alertcontent, alerttype, alerttitle} = this.state;\n        return (\n            <div className=\"body\">\n                <Sidebar leftsidebar={this.state.isleftsidebar}  closeLeftSidebar={() => this.toggleLeftSidebar()}/>\n                <div className=\"content\">\n                <Header openLeftSidebar={() => this.toggleLeftSidebar()} />\n                {(this.state.togglealert) ? \n                  <div className=\"loginalert\">\n                      <AlertComponent \n                      title={alerttitle}\n                      showalert={togglealert} \n                      content={alertcontent} \n                      type={alerttype}\n                      closealert={() => this.setShow(false)}/>\n                  </div> : <div></div>}\n                <div className=\"page_container\">\n                \n                     <div className=\"user_form_wrapper\">\n                        <div className=\"login_title\">\n                            <span>Login</span>\n                        </div>\n                        <div className=\"form_group_lg form_group_input\">\n                            <input type=\"text\" \n                             name=\"email\"\n                             placeholder=\"Email\" \n                             value={this.state.email} \n                             onChange={this.handleInput.bind(this)}/>\n                        </div>\n                        <div className=\"form_group_lg form_group_input\">\n                            <input \n                             type={(this.state.pass) ? 'password' : 'text'} \n                             name=\"password\"\n                             placeholder=\"Password\" \n                             value={this.state.password} \n                             onChange={this.handleInput.bind(this)}/>\n                            <i>{(this.state.pass) ? <FaEye onClick={() => this.togglePassword(true)} /> : <FaEyeSlash onClick={() => this.togglePassword(false)} />} </i>\n                        </div>\n                      \n                        <div className=\"primaryButton form_group_lg reg_submit_btn\" onClick={() =>this.loginUser() }>\n                               <span>Login</span>\n                        </div>\n                        <div className=\"login_footer\">\n                            <div className=\"login_footer_reglink\">\n                               <span>Don’t have an account?</span>\n                               <span><Link className=\"secondaryColor\" to={'/register'}>Register</Link></span>\n                            </div>\n                            <div className=\"forgotpass\">\n                               <span><Link className=\"secondaryColor\" to={'/forgotpassword'}>Forgot Password?</Link></span>\n                            </div>\n                        </div>\n                     </div>\n                </div>\n                </div>\n            </div>\n        );\n    }\n    toggleLeftSidebar(){\n\n        let isrightsidebar = this.state.isrightside;\n        if (isrightsidebar == 'mobile_display') {\n            this.setState({\n                isrightside:'desktop_display'\n            })\n        }\n\n        let isleftsidebar = this.state.isleftsidebar;\n        if (isleftsidebar == 'desktop_display') {\n            this.setState({\n                isleftsidebar:'mobile_display'\n            })\n        }else{\n            this.setState({\n                isleftsidebar:'desktop_display'\n            })\n        }\n    }\n}\n\nexport default UserIndex;\n"]},"metadata":{},"sourceType":"module"}